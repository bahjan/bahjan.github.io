<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>网络面试题 | 前端</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon.png">
    <meta name="description" content="欢迎来到江江的博客! 👋">
    
    <link rel="preload" href="/assets/css/0.styles.e1700646.css" as="style"><link rel="preload" href="/assets/js/app.8bc50557.js" as="script"><link rel="preload" href="/assets/js/2.9b5c8eec.js" as="script"><link rel="preload" href="/assets/js/17.0f31bec1.js" as="script"><link rel="prefetch" href="/assets/js/10.1531fba0.js"><link rel="prefetch" href="/assets/js/11.63741d13.js"><link rel="prefetch" href="/assets/js/12.1927f289.js"><link rel="prefetch" href="/assets/js/13.861f9870.js"><link rel="prefetch" href="/assets/js/14.8803238b.js"><link rel="prefetch" href="/assets/js/15.d9dd1b59.js"><link rel="prefetch" href="/assets/js/16.e83e42c5.js"><link rel="prefetch" href="/assets/js/18.3756dc93.js"><link rel="prefetch" href="/assets/js/19.604ef985.js"><link rel="prefetch" href="/assets/js/20.8f4a9075.js"><link rel="prefetch" href="/assets/js/21.97715305.js"><link rel="prefetch" href="/assets/js/22.3e8af041.js"><link rel="prefetch" href="/assets/js/23.6272a229.js"><link rel="prefetch" href="/assets/js/24.d0538901.js"><link rel="prefetch" href="/assets/js/3.60b75be9.js"><link rel="prefetch" href="/assets/js/4.259bde72.js"><link rel="prefetch" href="/assets/js/5.22499ca9.js"><link rel="prefetch" href="/assets/js/6.8ce66f47.js"><link rel="prefetch" href="/assets/js/7.d433d9e1.js"><link rel="prefetch" href="/assets/js/8.5d63017a.js"><link rel="prefetch" href="/assets/js/9.2c702dc6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e1700646.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">前端</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试题" class="dropdown-title"><span class="title">面试题</span> <span class="arrow down"></span></button> <button type="button" aria-label="面试题" class="mobile-dropdown-title"><span class="title">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/interview/01-算法题/" class="nav-link">
  算法题
</a></li><li class="dropdown-item"><!----> <a href="/interview/02-HTML面试题.html" class="nav-link">
  HTML 面试题
</a></li><li class="dropdown-item"><!----> <a href="/interview/03-CSS面试题.html" class="nav-link">
  CSS 面试题
</a></li><li class="dropdown-item"><!----> <a href="/interview/04-JS面试题.html" class="nav-link">
  JS 面试题
</a></li><li class="dropdown-item"><!----> <a href="/interview/05-Vue面试题.html" class="nav-link">
  Vue 面试题
</a></li><li class="dropdown-item"><!----> <a href="/interview/06-浏览器面试题.html" class="nav-link">
  浏览器 面试题
</a></li><li class="dropdown-item"><!----> <a href="/interview/07-网络面试题.html" class="nav-link">
  网络面试题
</a></li><li class="dropdown-item"><!----> <a href="/interview/08-HR面试题.html" class="nav-link">
  HR 面试题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="HTML+CSS" class="dropdown-title"><span class="title">HTML+CSS</span> <span class="arrow down"></span></button> <button type="button" aria-label="HTML+CSS" class="mobile-dropdown-title"><span class="title">HTML+CSS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/html+css/01-HTML.html" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/html+css/02-CSS.html" class="nav-link">
  CSS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/js/01-JS入门.html" class="nav-link">
  JS 入门
</a></li><li class="dropdown-item"><!----> <a href="/js/02-JS进阶.html" class="nav-link">
  JS 进阶
</a></li><li class="dropdown-item"><!----> <a href="/js/03-DOM.html" class="nav-link">
  DOM
</a></li><li class="dropdown-item"><!----> <a href="/js/04-BOM.html" class="nav-link">
  BOM
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/bahjan" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试题" class="dropdown-title"><span class="title">面试题</span> <span class="arrow down"></span></button> <button type="button" aria-label="面试题" class="mobile-dropdown-title"><span class="title">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/interview/01-算法题/" class="nav-link">
  算法题
</a></li><li class="dropdown-item"><!----> <a href="/interview/02-HTML面试题.html" class="nav-link">
  HTML 面试题
</a></li><li class="dropdown-item"><!----> <a href="/interview/03-CSS面试题.html" class="nav-link">
  CSS 面试题
</a></li><li class="dropdown-item"><!----> <a href="/interview/04-JS面试题.html" class="nav-link">
  JS 面试题
</a></li><li class="dropdown-item"><!----> <a href="/interview/05-Vue面试题.html" class="nav-link">
  Vue 面试题
</a></li><li class="dropdown-item"><!----> <a href="/interview/06-浏览器面试题.html" class="nav-link">
  浏览器 面试题
</a></li><li class="dropdown-item"><!----> <a href="/interview/07-网络面试题.html" class="nav-link">
  网络面试题
</a></li><li class="dropdown-item"><!----> <a href="/interview/08-HR面试题.html" class="nav-link">
  HR 面试题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="HTML+CSS" class="dropdown-title"><span class="title">HTML+CSS</span> <span class="arrow down"></span></button> <button type="button" aria-label="HTML+CSS" class="mobile-dropdown-title"><span class="title">HTML+CSS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/html+css/01-HTML.html" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/html+css/02-CSS.html" class="nav-link">
  CSS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/js/01-JS入门.html" class="nav-link">
  JS 入门
</a></li><li class="dropdown-item"><!----> <a href="/js/02-JS进阶.html" class="nav-link">
  JS 进阶
</a></li><li class="dropdown-item"><!----> <a href="/js/03-DOM.html" class="nav-link">
  DOM
</a></li><li class="dropdown-item"><!----> <a href="/js/04-BOM.html" class="nav-link">
  BOM
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/bahjan" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/interview/" aria-current="page" class="sidebar-link">目录</a></li><li><a href="/interview/01-算法题.html" class="sidebar-link">算法题</a></li><li><a href="/interview/02-HTML面试题.html" class="sidebar-link">HTML 面试题</a></li><li><a href="/interview/03-CSS面试题.html" class="sidebar-link">CSS 面试题</a></li><li><a href="/interview/04-JS面试题.html" class="sidebar-link">JS 面试题</a></li><li><a href="/interview/05-Vue面试题.html" class="sidebar-link">Vue 面试题</a></li><li><a href="/interview/06-浏览器面试题.html" class="sidebar-link">浏览器面试题</a></li><li><a href="/interview/07-网络面试题.html" class="active sidebar-link">网络面试题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview/07-网络面试题.html#一、http-和-https" class="sidebar-link">一、HTTP 和 HTTPS</a></li><li class="sidebar-sub-header"><a href="/interview/07-网络面试题.html#二、http-请求的过程" class="sidebar-link">二、HTTP 请求的过程</a></li><li class="sidebar-sub-header"><a href="/interview/07-网络面试题.html#三、tcp-三次握手-不能两次握手的原因" class="sidebar-link">三、TCP 三次握手，不能两次握手的原因</a></li><li class="sidebar-sub-header"><a href="/interview/07-网络面试题.html#四、tcp-四次挥手-不能三次挥手的原因" class="sidebar-link">四、TCP 四次挥手，不能三次挥手的原因</a></li><li class="sidebar-sub-header"><a href="/interview/07-网络面试题.html#五、tcp-和-udp-的区别" class="sidebar-link">五、TCP 和 UDP 的区别</a></li><li class="sidebar-sub-header"><a href="/interview/07-网络面试题.html#六、osi-网络分层工作流程-7层" class="sidebar-link">六、OSI 网络分层工作流程（7层）</a></li><li class="sidebar-sub-header"><a href="/interview/07-网络面试题.html#七、http-请求跨域问题" class="sidebar-link">七、HTTP 请求跨域问题</a></li><li class="sidebar-sub-header"><a href="/interview/07-网络面试题.html#八、img、iframe、script-来发送跨域请求的优缺点" class="sidebar-link">八、img、iframe、script 来发送跨域请求的优缺点</a></li><li class="sidebar-sub-header"><a href="/interview/07-网络面试题.html#九、get-和-post-请求的区别" class="sidebar-link">九、Get 和 Post 请求的区别</a></li></ul></li><li><a href="/interview/08-HR面试题.html" class="sidebar-link">HR 面试题</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="网络面试题"><a href="#网络面试题" class="header-anchor">#</a> 网络面试题</h1> <h2 id="一、http-和-https"><a href="#一、http-和-https" class="header-anchor">#</a> 一、HTTP 和 HTTPS</h2> <h3 id="_1-http-和-https-的基本概念"><a href="#_1-http-和-https-的基本概念" class="header-anchor">#</a> 1.HTTP 和 HTTPS 的基本概念</h3> <ul><li><p>http：是一个客户端和服务器端请求和应答的标准（TCP），用于从 WWW 服务器传输超文本到本地浏览器的超文本传输协议。</p></li> <li><p>https：是以安全为目标的 HTTP 通道，即 HTTP 下加入 SSL 层进行加密。其作用是：建立一个信息安全通道，来确保数据的传输，确保网站的真实性。</p></li></ul> <h3 id="_2-http-和-https-的区别及优缺点"><a href="#_2-http-和-https-的区别及优缺点" class="header-anchor">#</a> 2.HTTP 和 HTTPS 的区别及优缺点</h3> <table><thead><tr><th style="text-align:center;"></th> <th>HTTP</th> <th>HTTPS</th></tr></thead> <tbody><tr><td style="text-align:center;">安全角度</td> <td>《明⽂传输协议》，是以“明⽂”的⽅式传输数据的</td> <td>《加密传输协议》，传输的数据是需要经过 TLS/SSL 加密后才进行传输的，所以更安全</td></tr> <tr><td style="text-align:center;">端口角度</td> <td>端口：80，基于应用层</td> <td>端口：443，基于传输层</td></tr> <tr><td style="text-align:center;">加密与证书角度:</td> <td>不需要向服务端申请证书</td> <td>需要向服务端申请证书，浏览器端安装对应的根证书</td></tr> <tr><td style="text-align:center;">优点</td> <td>简单、灵活、易扩展、应用广</td> <td>安全性高，确保数据的完整性和准确性</td></tr> <tr><td style="text-align:center;">缺点</td> <td>内容容易被窃听、篡改、劫持，无法保证数据的完整性和准确性</td> <td>握手时延时较高，部署成本高（占用 CPU 资源）</td></tr></tbody></table> <h3 id="_3-http-和-https-协议的工作原理"><a href="#_3-http-和-https-协议的工作原理" class="header-anchor">#</a> 3.HTTP 和 HTTPS 协议的工作原理</h3> <ul><li><p>HTTP 协议的工作原理：<br>
HTTP 协议工作于客户端──服务端架构上。<br>
浏览器作为 HTTP 客户端通过 URL 向 HTTP 服务端即 WEB 服务器发送所有请求。<br>
Web 服务器有：Apache 服务器，IIS 服务器等。
Web 服务器根据接收到的请求后，向客户端发送响应信息。
HTTP 默认端口号为：80，可以改为其他端口。<br>
HTTP 协议是基于 TCP/IP 协议之上的协议，是 Web 浏览器和 Web 服务器之间的应用层协议，是通用的、无状态的、面向对象的协议。</p></li> <li><p>HTTPS 协议的工作原理：</p> <ul><li>客户端使用 https url 访问服务器，则要求 web 服务器建立 ssl 连接。</li> <li>web 服务器接收到客户端的请求之后，会将网站的证书（证书中包含了公钥），传输给客户端。</li> <li>客户端和 web 服务器端开始协商 SSL 连接的安全等级，也就是加密等级。</li> <li>客户端浏览器通过双方协商一致的安全等级，建立会话密钥，然后通过网站的公钥来加密会话密钥，并传送给网站。</li> <li>web 服务器通过自己的私钥解密出会话密钥。</li> <li>web 服务器通过会话密钥加密与客户端之间的通信。</li></ul></li></ul> <h2 id="二、http-请求的过程"><a href="#二、http-请求的过程" class="header-anchor">#</a> 二、HTTP 请求的过程</h2> <p>DNS 域名解析（UDP 协议） ──&gt; 建立 TCP 连接（三次握手） ──&gt; 发起 HTTP 请求  ──&gt; 服务器响应请求并返回结果 ──&gt;  关闭 TCP 连接（四次挥手） ──&gt; 浏览器解析 html 代码（如 js、css、图片等），并渲染给用户。</p> <h3 id="从输入-url-到页面加载的全过程"><a href="#从输入-url-到页面加载的全过程" class="header-anchor">#</a> 从输入 URL 到页面加载的全过程</h3> <ul><li><p>1.DNS 域名解析：网址进行 DNS 域名解析，得到对应的 IP 地址，根据这个 IP，找到对应的服务器（DNS 服务器是基于 UDP 的，因此会用到 UDP 协议）。</p></li> <li><p>2.建立 TCP 连接：根据 IP 地址和默认 80 端口，和服务器建立 TCP 连接（三次握手）。</p></li> <li><p>3.发起 HTTP 请求：浏览器发起读取文件的 HTTP 请求，该请求报文作为 TCP 三次握手的第三次数据发送给服务器。</p></li> <li><p>4.服务器响应请求并返回结果：服务器响应 HTTP 请求，浏览器得到 html 代码。</p></li> <li><p>5.关闭 TCP 连接：通过四次挥手关闭 TCP 连接。</p></li> <li><p>6.浏览器解析 HTML 内容（如 js、css 图片等）并渲染出来。</p> <ul><li><p>a）解析 html 文件构成 DOM 树。</p></li> <li><p>b）解析 CSS 文件构成渲染树。</p></li> <li><p>c）边解析，边渲染。</p></li> <li><p>d）JS 单线程运行，JS 有可能修改 DOM 结构，意味着 JS 执行完成前，后续所有资源的下载是没有必要的，所以 JS 是单线程，会阻塞后续资源下载。</p></li></ul></li></ul> <p>⚠️注意：<br>
为什么 HTTP 协议要基于 TCP 来实现？<br>
TCP 是一个端到端的可靠的面相连接的协议，HTTP 基于传输层 TCP 协议不用担心数据传输的各种问题（当发生错误时，会重传）。</p> <h3 id="_1-dns-域名解析"><a href="#_1-dns-域名解析" class="header-anchor">#</a> 1.DNS 域名解析</h3> <ul><li><p>a）首先会搜索浏览器自身的 DNS 缓存（缓存时间比较短，大概只有1分钟，且只能容纳1000条缓存）。</p></li> <li><p>b）如果浏览器自身的缓存里面没有找到，那么浏览器会搜索系统自身的 DNS 缓存。</p></li> <li><p>c）如果还没有找到，那么尝试从 hosts文件里面去找。</p></li> <li><p>d）在前面三个过程都没获取到的情况下，就递归地去域名服务器去查找，具体过程如下：</p></li></ul> <p>DNS优化：<br>
两个方面：DNS缓存、DNS负载均衡。</p> <p><img src="%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E7%9A%84%E8%BF%87%E7%A8%8B.png" alt="域名解析的过程"></p> <h3 id="_2-建立-tcp-连接-三次握手"><a href="#_2-建立-tcp-连接-三次握手" class="header-anchor">#</a> 2.建立 TCP 连接（三次握手）</h3> <ul><li><p>第一次握手：客户端向服务端发送一个 SYN 请求（SYN 是建立连接时使用，SYN=1）。</p></li> <li><p>第二次握手：服务端确认客户端发来的请求报文，SYN=1，ACK=1。</p></li> <li><p>第三次握手：客户端要再次确认，SYN=0，ACK=1。</p></li></ul> <p><img src="TCP%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B.png" alt="TCP三次握手"></p> <h3 id="_3-发起-http-请求"><a href="#_3-发起-http-请求" class="header-anchor">#</a> 3.发起 HTTP 请求</h3> <p>HTTP 请求报文由三部分组成：请求行，请求头和请求正文。</p> <ul><li><p>请求行：用于描述客户端的请求方式，请求的资源名称以及使用的 HTTP 协议的版本号（例：GET/books/java.html HTTP/1.1）。</p></li> <li><p>请求头：用于描述客户端请求哪台主机，以及客户端的一些环境信息等。</p> <ul><li>注：这里提一个请求头 Connection，Connection 设置为 keep-alive 用于说明 客户端这边设置的是，本次 HTTP 请求之后并不需要关闭 TCP 连接，这样可以使下次 HTTP 请求使用相同的 TCP 通道，节省 TCP 建立连接的时间。</li></ul></li> <li><p>请求正文：当使用 POST, PUT 等方法时，通常需要客户端向服务器传递数据。这些数据储存在请求正文中（GET 方式是保存在 url 地址后面，不会放到这里）。</p></li></ul> <h3 id="_4-服务器响应-http-请求"><a href="#_4-服务器响应-http-请求" class="header-anchor">#</a> 4.服务器响应 HTTP 请求</h3> <p>HTTP 响应也由三部分组成：状态码，响应头和实体内容。</p> <ul><li><p>状态码：状态码用于表示服务器对请求的处理结果.</p> <ul><li><p>★列举几种常见的状态码：</p> <table><thead><tr><th>状态码</th> <th>说明</th></tr></thead> <tbody><tr><td>200:</td> <td>服务器已成功处理了请求</td></tr> <tr><td>302:</td> <td>服务器目前从不同位置的网页响应请求</td></tr> <tr><td>304:</td> <td>自从上次请求后，请求的网页未修改过</td></tr> <tr><td>403:</td> <td>没有访问权限，服务器拒绝请求</td></tr> <tr><td>404:</td> <td>服务器找不到请求的网页</td></tr> <tr><td>500:</td> <td>服务器遇到错误，无法完成请求</td></tr></tbody></table></li></ul></li> <li><p>响应头：响应头用于描述服务器的基本信息，以及客户端如何处理数据.</p></li> <li><p>实体内容：服务器返回给客户端的数据.</p> <ul><li>注：html 资源文件应该不是通过 HTTP 响应直接返回去的，应该是通过 nginx 通过 io 操作去拿到的.</li></ul></li></ul> <h3 id="_5-关闭-tcp-连接"><a href="#_5-关闭-tcp-连接" class="header-anchor">#</a> 5.关闭 TCP 连接</h3> <p>通过四次挥手关闭 TCP 连接。</p> <ul><li>第一次挥手：客户端主动请求关闭，表明客户端没有数据发送，但可以接收数据。</li> <li>第二次挥手：服务器给客户端确认，表明收到客户端的关闭请求，但服务器还有数据要发送，让客户端等等。</li> <li>第三次挥手：服务器没有数据发送了，也请求关闭连接，但仍然接收数据。</li> <li>第四次挥手：服务器必须要等待客户端一个确认，才会关闭连接。客户端经过一段超时等待，确认服务器已经断开之后关闭连接。</li></ul> <h3 id="_6-浏览器解析-html-内容并渲染"><a href="#_6-浏览器解析-html-内容并渲染" class="header-anchor">#</a> 6.浏览器解析 HTML 内容并渲染</h3> <p>最后，浏览器利用自己内部的工作机制，把请求的静态资源和 html 代码进行渲染，渲染之后呈现给用户。</p> <p>浏览器是一个 <strong>边解析边渲染</strong> 的过程。首先浏览器解析 HTML 文件构建 DOM 树，然后解析 CSS 文件构建渲染树，等到渲染树构建完成后，浏览器开始布局渲染树并将其绘制到屏幕上。<br>
这个过程比较复杂，涉及到两个概念：reflow（回流）和 repain（重绘）。<br>
页面在首次加载时必然会经历 回流 和 重绘，它俩的过程是非常消耗性能的，尤其是在移动设备上，它会破坏用户体验，有时会造成页面卡顿。所以我们应该尽可能的减少回流和重绘。</p> <p>JS 的解析是由浏览器中的 JS 解析引擎完成的。JS 是单线程运行，JS 有可能修改 DOM 结构，意味着 JS 执行完成前，后续所有资源的下载是没有必要的，所以 JS 是单线程，会阻塞后续资源下载。</p> <h2 id="三、tcp-三次握手-不能两次握手的原因"><a href="#三、tcp-三次握手-不能两次握手的原因" class="header-anchor">#</a> 三、TCP 三次握手，不能两次握手的原因</h2> <h3 id="_1-tcp-三次握手过程"><a href="#_1-tcp-三次握手过程" class="header-anchor">#</a> 1.TCP 三次握手过程：</h3> <ul><li>第一次握手：客户端向服务器发送一个 SYN 请求（SYN 是建立连接时使用，SYN=1）。</li> <li>第二次握手：服务器确认客户端发来的请求报文，SYN=1，ACK=1。</li> <li>第三次握手：客户端要再次确认，SYN=0，ACK=1。</li></ul> <h3 id="_2-为什么不是两次握手"><a href="#_2-为什么不是两次握手" class="header-anchor">#</a> 2.为什么不是两次握手？</h3> <p>TCP 协议初衷就是要设计出一个可靠的连接服务，如果只是两次握手， 那么只有连接发起方的起始序列号（seq）能被确认，另一方的序列号则得不到确认。<br>
换句话说，如果是两次握手建立连接，第二次握手时发生<strong>丢包</strong>，那么客户端就无法与服务器建立连接。</p> <h2 id="四、tcp-四次挥手-不能三次挥手的原因"><a href="#四、tcp-四次挥手-不能三次挥手的原因" class="header-anchor">#</a> 四、TCP 四次挥手，不能三次挥手的原因</h2> <h3 id="_1-四次挥手的过程如下"><a href="#_1-四次挥手的过程如下" class="header-anchor">#</a> 1.四次挥手的过程如下：</h3> <ul><li>第一次挥手：客户端主动请求关闭，表明客户端没有数据发送，但可以接收数据。</li> <li>第二次挥手：服务器给客户端确认，表明收到客户端的关闭请求，但服务器还有数据要发送，让客户端等等。</li> <li>第三次挥手：服务器没有数据发送了，也请求关闭连接，但仍然接收数据。</li> <li>第四次挥手：服务器必须要等待客户端一个确认，才会关闭连接。客户端经过一段超时等待，确认服务器已经断开之后关闭连接。</li></ul> <h3 id="_2-为什么不是三次挥手"><a href="#_2-为什么不是三次挥手" class="header-anchor">#</a> 2.为什么不是三次挥手？</h3> <p>第一次挥手：客户端主动请求关闭，表明客户端没有数据发送，但可以接收收据。<br>
第二次挥手：服务器也向客户端发起关闭连接请求，并确认客户端的关闭连接。<br>
第三次挥手：客户端回复 ack 确认，双方连接关闭。</p> <p>如果在第三次挥手中客户端回复 ack 后，<strong>服务器的数据还没发完</strong>，但只有三挥手，服务器只能选择关闭连接，这样客户端的<strong>数据就会不完整</strong>，违背了 TCP 可靠连接的初衷。</p> <p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X2pwZy9qMFJPaWFjNGFkRXNEeE9ENHJ5aDZqcFFXT0VCV1FScm02VXlLS2liVkRqdXdhM0RHNFkzWlhYY0Mxb05odmlhNmtHV2prZWliQlNHNWlidWZpYUYxOHhUN0NBZy82NDA?x-oss-process=image/format,png" alt="img"></p> <h2 id="五、tcp-和-udp-的区别"><a href="#五、tcp-和-udp-的区别" class="header-anchor">#</a> 五、TCP 和 UDP 的区别</h2> <table><thead><tr><th></th> <th>TCP</th> <th>UDP</th></tr></thead> <tbody><tr><td>是否连接</td> <td>面向连接</td> <td>无连接</td></tr> <tr><td>是否可靠</td> <td>可靠传输，使用流量控制和拥塞控制（接收方收到的数据：完整，有序，无差错）</td> <td>不可靠传输（接收方收到的数据：部分丢失，顺序也不一定能保证）</td></tr> <tr><td>连接对象</td> <td>只能一对一通信</td> <td>支持一对一、一对多、多对多交互通信</td></tr> <tr><td>传输方式/速率:</td> <td>面向字节流/慢（因为要建立连接，还确认）</td> <td>面向报文/快</td></tr> <tr><td>安全方面</td> <td></td> <td>安全性高，漏洞比较少</td></tr> <tr><td>首页开销</td> <td>首部最小20字节，最大60字节</td> <td>首部开销小，仅8字节</td></tr> <tr><td>应用场景</td> <td>对传输大量数据且可靠性要求高时，如：文件传输</td> <td>对可靠性要求低，追求效率时，如：视频聊天、直播等</td></tr></tbody></table> <h2 id="六、osi-网络分层工作流程-7层"><a href="#六、osi-网络分层工作流程-7层" class="header-anchor">#</a> 六、OSI 网络分层工作流程（7层）</h2> <p><img src="OSI%E4%B8%83%E5%B1%82%E5%8D%8F%E8%AE%AE.png" alt="OSI七层协议"></p> <h2 id="七、http-请求跨域问题"><a href="#七、http-请求跨域问题" class="header-anchor">#</a> 七、HTTP 请求跨域问题</h2> <h3 id="_1-跨域的原理"><a href="#_1-跨域的原理" class="header-anchor">#</a> 1.跨域的原理</h3> <ul><li>跨域：是指浏览器不能执行其他网站的脚本。它是由浏览器的同源策略造成的。</li> <li>同源策略：是浏览器对 JavaScript 实施的安全限制，只要协议、域名、端口有任何一个不同，都被当作是不同的域。</li> <li>跨域原：是通过各种方式，避开浏览器的安全限制。</li></ul> <h3 id="_2-解决方案"><a href="#_2-解决方案" class="header-anchor">#</a> 2.解决方案</h3> <ul><li><p>JSONP：</p> <ul><li>创建一个 script 标签</li> <li>script 的 src 属性设置接口地址</li> <li>接口参数，必须要带一个自定义函数名，要不然后台无法返回数据</li> <li>通过定义函数名去接受返回的数据</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//动态创建 script</span>
<span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 设置回调函数</span>
<span class="token keyword">function</span> <span class="token function">getData</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//设置 script 的 src 属性，并设置请求地址</span>
script<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'http://localhost:3000/?callback=getData'</span><span class="token punctuation">;</span>

<span class="token comment">// 让 script 生效</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>JSONP 的缺点:<br>
JSON 只支持 get，因为 script 标签只能使用 get 请求； JSONP 需要后端配合返回指定格式的数据。</p></li> <li><p>CORS： CORS(Cross-origin resource sharing)跨域资源共享 服务器设置对 CORS 的支持原理：服务器设置Access-Control-Allow-Origin HTTP响应头之后，浏览器将会允许跨域请求。</p></li> <li><p>proxy 代理： 目前常用方式，通过服务器设置代理。</p></li> <li><p>window.postMessage()： 利用 H5 新特性 window.postMessage()。</p></li></ul> <h2 id="八、img、iframe、script-来发送跨域请求的优缺点"><a href="#八、img、iframe、script-来发送跨域请求的优缺点" class="header-anchor">#</a> 八、img、iframe、script 来发送跨域请求的优缺点</h2> <ul><li><p>iframe
优点：跨域完毕之后 DOM 操作和互相之间的 JavaScript 调用都是没有问题的。<br>
缺点：<br>
1.若结果要以 URL 参数传递，这就意味着在结果数据量很大的时候需要分割传递，巨烦。<br>
2.还有一个是 iframe 本身带来的，母页面和 iframe 本身的交互本身就有安全性限制。</p></li> <li><p>script
优点：可以直接返回 json 格式的数据，方便处理。<br>
缺点：只接受 GET 请求方式。</p></li> <li><p>图片 ping
优点：可以访问任何 url，一般用来进行点击追踪，做页面分析常用的方法。<br>
缺点：不能访问响应文本，只能监听是否响应</p></li></ul> <h2 id="九、get-和-post-请求的区别"><a href="#九、get-和-post-请求的区别" class="header-anchor">#</a> 九、Get 和 Post 请求的区别</h2> <table><thead><tr><th style="text-align:center;"></th> <th style="text-align:center;">GET 请求</th> <th style="text-align:center;">POST 请求</th></tr></thead> <tbody><tr><td style="text-align:center;">数据的方式</td> <td style="text-align:center;">从服务器上<strong>获取数据</strong></td> <td style="text-align:center;">向服务器<strong>传送数据</strong></td></tr> <tr><td style="text-align:center;">客户端</td> <td style="text-align:center;">通过 <strong>url 提交数据</strong>，数据在 url 中可以看到</td> <td style="text-align:center;">数据放在 <strong>html header 中提交</strong></td></tr> <tr><td style="text-align:center;">安全方面</td> <td style="text-align:center;">提交数据<strong>最多 1024 字节</strong></td> <td style="text-align:center;"><strong>无限制</strong></td></tr> <tr><td style="text-align:center;">在缓存方面</td> <td style="text-align:center;">类似于查找的过程，用户获取数据，可以不用每次都与数据库连接，所以<strong>可以使用缓存</strong>（适合请求缓存）</td> <td style="text-align:center;">做的一般是修改和删除的工作，所以必须与数据库交互，所以<strong>不能使用缓存</strong></td></tr></tbody></table></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/interview/06-浏览器面试题.html" class="prev">
        浏览器面试题
      </a></span> <span class="next"><a href="/interview/08-HR面试题.html">
        HR 面试题
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.8bc50557.js" defer></script><script src="/assets/js/2.9b5c8eec.js" defer></script><script src="/assets/js/17.0f31bec1.js" defer></script>
  </body>
</html>
