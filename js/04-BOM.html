<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>BOM | 前端</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon.png">
    <meta name="description" content="欢迎来到江江的博客! 👋">
    
    <link rel="preload" href="/assets/css/0.styles.e1700646.css" as="style"><link rel="preload" href="/assets/js/app.8bc50557.js" as="script"><link rel="preload" href="/assets/js/2.9b5c8eec.js" as="script"><link rel="preload" href="/assets/js/23.6272a229.js" as="script"><link rel="prefetch" href="/assets/js/10.1531fba0.js"><link rel="prefetch" href="/assets/js/11.63741d13.js"><link rel="prefetch" href="/assets/js/12.1927f289.js"><link rel="prefetch" href="/assets/js/13.861f9870.js"><link rel="prefetch" href="/assets/js/14.8803238b.js"><link rel="prefetch" href="/assets/js/15.d9dd1b59.js"><link rel="prefetch" href="/assets/js/16.e83e42c5.js"><link rel="prefetch" href="/assets/js/17.0f31bec1.js"><link rel="prefetch" href="/assets/js/18.3756dc93.js"><link rel="prefetch" href="/assets/js/19.604ef985.js"><link rel="prefetch" href="/assets/js/20.8f4a9075.js"><link rel="prefetch" href="/assets/js/21.97715305.js"><link rel="prefetch" href="/assets/js/22.3e8af041.js"><link rel="prefetch" href="/assets/js/24.d0538901.js"><link rel="prefetch" href="/assets/js/3.60b75be9.js"><link rel="prefetch" href="/assets/js/4.259bde72.js"><link rel="prefetch" href="/assets/js/5.22499ca9.js"><link rel="prefetch" href="/assets/js/6.8ce66f47.js"><link rel="prefetch" href="/assets/js/7.d433d9e1.js"><link rel="prefetch" href="/assets/js/8.5d63017a.js"><link rel="prefetch" href="/assets/js/9.2c702dc6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e1700646.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">前端</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试题" class="dropdown-title"><span class="title">面试题</span> <span class="arrow down"></span></button> <button type="button" aria-label="面试题" class="mobile-dropdown-title"><span class="title">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/interview/01-算法题/" class="nav-link">
  算法题
</a></li><li class="dropdown-item"><!----> <a href="/interview/02-HTML面试题.html" class="nav-link">
  HTML 面试题
</a></li><li class="dropdown-item"><!----> <a href="/interview/03-CSS面试题.html" class="nav-link">
  CSS 面试题
</a></li><li class="dropdown-item"><!----> <a href="/interview/04-JS面试题.html" class="nav-link">
  JS 面试题
</a></li><li class="dropdown-item"><!----> <a href="/interview/05-Vue面试题.html" class="nav-link">
  Vue 面试题
</a></li><li class="dropdown-item"><!----> <a href="/interview/06-浏览器面试题.html" class="nav-link">
  浏览器 面试题
</a></li><li class="dropdown-item"><!----> <a href="/interview/07-网络面试题.html" class="nav-link">
  网络面试题
</a></li><li class="dropdown-item"><!----> <a href="/interview/08-HR面试题.html" class="nav-link">
  HR 面试题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="HTML+CSS" class="dropdown-title"><span class="title">HTML+CSS</span> <span class="arrow down"></span></button> <button type="button" aria-label="HTML+CSS" class="mobile-dropdown-title"><span class="title">HTML+CSS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/html+css/01-HTML.html" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/html+css/02-CSS.html" class="nav-link">
  CSS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/js/01-JS入门.html" class="nav-link">
  JS 入门
</a></li><li class="dropdown-item"><!----> <a href="/js/02-JS进阶.html" class="nav-link">
  JS 进阶
</a></li><li class="dropdown-item"><!----> <a href="/js/03-DOM.html" class="nav-link">
  DOM
</a></li><li class="dropdown-item"><!----> <a href="/js/04-BOM.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  BOM
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/bahjan" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试题" class="dropdown-title"><span class="title">面试题</span> <span class="arrow down"></span></button> <button type="button" aria-label="面试题" class="mobile-dropdown-title"><span class="title">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/interview/01-算法题/" class="nav-link">
  算法题
</a></li><li class="dropdown-item"><!----> <a href="/interview/02-HTML面试题.html" class="nav-link">
  HTML 面试题
</a></li><li class="dropdown-item"><!----> <a href="/interview/03-CSS面试题.html" class="nav-link">
  CSS 面试题
</a></li><li class="dropdown-item"><!----> <a href="/interview/04-JS面试题.html" class="nav-link">
  JS 面试题
</a></li><li class="dropdown-item"><!----> <a href="/interview/05-Vue面试题.html" class="nav-link">
  Vue 面试题
</a></li><li class="dropdown-item"><!----> <a href="/interview/06-浏览器面试题.html" class="nav-link">
  浏览器 面试题
</a></li><li class="dropdown-item"><!----> <a href="/interview/07-网络面试题.html" class="nav-link">
  网络面试题
</a></li><li class="dropdown-item"><!----> <a href="/interview/08-HR面试题.html" class="nav-link">
  HR 面试题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="HTML+CSS" class="dropdown-title"><span class="title">HTML+CSS</span> <span class="arrow down"></span></button> <button type="button" aria-label="HTML+CSS" class="mobile-dropdown-title"><span class="title">HTML+CSS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/html+css/01-HTML.html" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/html+css/02-CSS.html" class="nav-link">
  CSS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/js/01-JS入门.html" class="nav-link">
  JS 入门
</a></li><li class="dropdown-item"><!----> <a href="/js/02-JS进阶.html" class="nav-link">
  JS 进阶
</a></li><li class="dropdown-item"><!----> <a href="/js/03-DOM.html" class="nav-link">
  DOM
</a></li><li class="dropdown-item"><!----> <a href="/js/04-BOM.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  BOM
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/bahjan" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/js/" aria-current="page" class="sidebar-link">目录</a></li><li><a href="/js/01-JS入门.html" class="sidebar-link">JS 入门</a></li><li><a href="/js/02-JS进阶.html" class="sidebar-link">JS 进阶</a></li><li><a href="/js/03-DOM.html" class="sidebar-link">DOM</a></li><li><a href="/js/04-BOM.html" aria-current="page" class="active sidebar-link">BOM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/js/04-BOM.html#一、dom-核心" class="sidebar-link">一、DOM 核心</a></li><li class="sidebar-sub-header"><a href="/js/04-BOM.html#二、注册事件两种方式" class="sidebar-link">二、注册事件两种方式</a></li><li class="sidebar-sub-header"><a href="/js/04-BOM.html#三、删除事件-解绑事件" class="sidebar-link">三、删除事件(解绑事件)</a></li><li class="sidebar-sub-header"><a href="/js/04-BOM.html#四、事件对象、e-target-和-this-区别" class="sidebar-link">四、事件对象、e.target 和 this 区别</a></li><li class="sidebar-sub-header"><a href="/js/04-BOM.html#五、禁止选中、键盘事件" class="sidebar-link">五、禁止选中、键盘事件</a></li><li class="sidebar-sub-header"><a href="/js/04-BOM.html#六、页面加载事件、定时器" class="sidebar-link">六、页面加载事件、定时器</a></li><li class="sidebar-sub-header"><a href="/js/04-BOM.html#七、this指向问题、location对象和方法" class="sidebar-link">七、this指向问题、location对象和方法</a></li><li class="sidebar-sub-header"><a href="/js/04-BOM.html#八、navigator、history对象-offset和style" class="sidebar-link">八、navigator、history对象，offset和style</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="bom"><a href="#bom" class="header-anchor">#</a> BOM</h1> <h2 id="一、dom-核心"><a href="#一、dom-核心" class="header-anchor">#</a> 一、DOM 核心</h2> <ol><li>创建</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span>write
innnerHTML
createElement
</code></pre></div><ol start="2"><li>增</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>appendChild
insertBefore
</code></pre></div><ol start="3"><li>删</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>removeChild
</code></pre></div><ol start="4"><li><p>改<br>
(1) 修改元素属性：src、href、title等。<br>
(2) 修改普通元素：innnerHTML、innerText。<br>
(3) 修改表单元素：value、type、disabled等。<br>
(4) 修改元素样式：style、className。</p></li> <li><p>查 (获取 DOM 的)<br>
(1) DOM 提供的 API 方法：getElementById、getElementByTagName 古老用法 不太推荐。<br>
(2) H5提供的新方法：querySelector、querySelectorAll 提倡。<br>
(3)利用节点操作获取元素：父(parentNode)、子(children)、兄(previousElementSibling、nextElemnentSibling)提倡。</p></li> <li><p>属性操作<br>
(1) setAttribute：设置 DOM 的属性值。<br>
(2) getAttribute：得到 DOM 的属性值。<br>
(3) removeAttribute：移除属性。</p></li> <li><p>事件操作 (鼠标事件)</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code>onclick        <span class="token comment">// 鼠标点击左键触发</span>
onmouseover    <span class="token comment">// 鼠标经过触发</span>
onmouseout     <span class="token comment">// 鼠标离开触发</span>
onfocus        <span class="token comment">// 获得鼠标焦点触发</span>
onblur         <span class="token comment">// 失去鼠标焦点触发</span>
onmousemove    <span class="token comment">// 鼠标移动触发</span>
onmouseup      <span class="token comment">// 鼠标弹起触发</span>
onmousedown    <span class="token comment">// 鼠标按下触发</span>
</code></pre></div><h2 id="二、注册事件两种方式"><a href="#二、注册事件两种方式" class="header-anchor">#</a> 二、注册事件两种方式</h2> <p>var btns = document.querySelectorAll('button');</p> <ol><li>传统方式注册事件
特点：注册事件的唯一性</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>btns<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
btns<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>事件监听注册事件  addEventListener
(1) 里面的事件类型是字符串 加引号 不带on
(2) 同一个元素 同一个事件可以添加多个侦听器（事件处理程序）</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>btns<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
btns<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">33</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//  eventTarget.addEventListener(type, listener[, useCapture])</span>
<span class="token comment">// type: 事件类型字符串，比如click、mouseover，注意不加on</span>
<span class="token comment">// listener: 事件处理函数，事件发生时，会调用该监听函数</span>
<span class="token comment">// useCapture: 可选函数，是一个布尔值，默认是false。</span>
</code></pre></div><ol start="3"><li>attachEvent ie9以前的版本支持</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>btns<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">'onclick'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="三、删除事件-解绑事件"><a href="#三、删除事件-解绑事件" class="header-anchor">#</a> 三、删除事件(解绑事件)</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> divs <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
divs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 1. 传统方式删除事件(解绑事件)</span>
    divs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>onclick <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 2. removeEventListener 删除事件</span>
divs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span>  <span class="token comment">// 里面的fn 不需要调用加小括号</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    divs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 3. </span>
divs<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">'onclick'</span><span class="token punctuation">,</span> fn1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">33</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    divs<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">detachEvent</span><span class="token punctuation">(</span><span class="token string">'onclick'</span><span class="token punctuation">,</span> fn1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="四、事件对象、e-target-和-this-区别"><a href="#四、事件对象、e-target-和-this-区别" class="header-anchor">#</a> 四、事件对象、e.target 和 this 区别</h2> <h3 id="_1-dom-事件流"><a href="#_1-dom-事件流" class="header-anchor">#</a> 1. DOM 事件流</h3> <p>事件流描述的是从页面中接受事件的顺序。<br>
事件发生时会在元素节点之间按照特定的顺序传播，这个传播过程即 DOM 事件流。<br>
DOM 事件流分为3个阶段：<br>
①捕获阶段 ②当前目标阶段 ③冒泡阶段</p> <ol><li>js 代码中只能执行捕获或冒泡其中的一个阶段。</li> <li>onclick 和 attachEvent（ie） 只能得到冒泡阶段。</li> <li>捕获阶段 如果addEventListener 第三个参数是 true 那么则处于捕获阶段 document -&gt; html -&gt; body -&gt; father -&gt; son</li> <li>冒泡阶段 如果addEventListener 第三个参数是 false 或者 省略 那么处于冒泡阶段  son -&gt; father -&gt; body -&gt; html -&gt; document</li></ol> <h3 id="_2-事件对象"><a href="#_2-事件对象" class="header-anchor">#</a> 2. 事件对象</h3> <ol><li>event就是一个事件对象 写到侦听函数小括号里 当形参来看。</li> <li>事件对象只有有了事件才会存在 它是系统自动创建的，不需要我们传递参数。</li> <li>事件对象 跟事件相关 比如鼠标点击的坐标，键盘按下了哪个键。</li> <li>事件对象可自己命名 如 event、evt、e。</li> <li>事件对象也有兼容性问题 ie678 通过 window.event 兼容性的写法 e = e || window.event;</li></ol> <h3 id="_3-e-target-和-this-区别"><a href="#_3-e-target-和-this-区别" class="header-anchor">#</a> 3. e.target 和 this 区别</h3> <p>常见事件对象的属性和方法</p> <ol><li>e.target 返回的是触发事件的对象(元素) ， this返回的是绑定事件的对象（元素）
区别： e.target 点击了哪个元素，就返回那个元素，  this哪个元素绑定了这个点击事件 就返回谁</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ul<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 给ul 绑定事件 那么this 就指向ul </span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// e.target 指向的是我们点击的那个对象 </span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_4-阻止默认行为"><a href="#_4-阻止默认行为" class="header-anchor">#</a> 4. 阻止默认行为</h3> <p>常见事件对象的属性和方法</p> <ol><li>返回事件类型</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseover'</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseout'</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>阻止默认行为（事件）让链接不跳转 或者 让提交按钮不提交</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ol start="3"><li>传统的注册方式</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>a<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 普通浏览器 e.preventDefault();  方法</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 低版本浏览器 ie678  returnValue 属性</span>
    e<span class="token punctuation">.</span>returnValue<span class="token punctuation">;</span>
    <span class="token comment">// 可以利用 return false 也可以阻止默认行为 没有兼容性问题 特点： return后面的代码不执行 而且只限于传统的注册方式</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_5-阻止事件冒泡"><a href="#_5-阻止事件冒泡" class="header-anchor">#</a> 5. 阻止事件冒泡</h3> <p>阻止冒泡 dom 推荐的标准 stopPropagation()</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> son <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.son'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
son<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'son'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// stop 停止 Propagation 传播</span>
    <span class="token comment">// 如果考虑兼容性问题 </span>
    e<span class="token punctuation">.</span>cancelBubble <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>  <span class="token comment">// 非标准 cancel 取消 bubble 泡泡</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> father <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.father'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
father<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'father'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'document'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_6-事件委托"><a href="#_6-事件委托" class="header-anchor">#</a> 6. 事件委托</h3> <p>事件委托的原理：不是每个子节点单独设置事件监听器，而是事件监听器设置在其父节点上，然后利用冒泡原理影响设置每个子节点。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ul<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// alert('hello');</span>
    e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backguroundColor <span class="token operator">=</span> <span class="token string">'pink'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="五、禁止选中、键盘事件"><a href="#五、禁止选中、键盘事件" class="header-anchor">#</a> 五、禁止选中、键盘事件</h2> <h3 id="_1-禁止选中文字和禁止右键菜单"><a href="#_1-禁止选中文字和禁止右键菜单" class="header-anchor">#</a> 1. 禁止选中文字和禁止右键菜单</h3> <ol><li>contextmenu 禁用右键菜单</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'contextmenu'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ol start="2"><li>禁止选中文字 selectstart</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'selectstart'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_2-获得鼠标在页面中的坐标"><a href="#_2-获得鼠标在页面中的坐标" class="header-anchor">#</a> 2. 获得鼠标在页面中的坐标</h3> <p>鼠标事件对象 MouseEvent</p> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</code></pre></div><ol><li>clientX 鼠标在可视区的x和y坐标</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>clientX<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>clientY<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'-------------------'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>page 鼠标在页面文档的x和y坐标 (常用)</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>pageX<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>pageY<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'-------------------'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>screen 鼠标在电脑屏幕的x和y坐标</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>screenX<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>screenY<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_3-常用的键盘事件"><a href="#_3-常用的键盘事件" class="header-anchor">#</a> 3. 常用的键盘事件</h3> <p>常用的键盘事件  addEventListener 不需要加 on</p> <ol><li>keyup 按键弹起的时候触发  执行顺序第三</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keyup'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我弹起了'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ol start="2"><li>keydown 按键按下的时候触发 执行顺序第一</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keydown'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我按下了1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ol start="3"><li>keypress 按键按下的时候触发 不识别功能键 ctrl shift箭头等  执行顺序第二</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keypress'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我按下了2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_4-keycode判断用户按下了哪个键"><a href="#_4-keycode判断用户按下了哪个键" class="header-anchor">#</a> 4. keyCode判断用户按下了哪个键</h3> <p>键盘事件对象中的keyCode属性可以得到相应键的ASCII码值</p> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keyup'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>keyCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 1. keyup 和 keydown 事件不区分字母大小写 a 和 A 得到的都是65</span>
    <span class="token comment">// 2. keypress事件 区分字母大小写 a 和 A 得到的 是97和65</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keypress'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>keyCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="六、页面加载事件、定时器"><a href="#六、页面加载事件、定时器" class="header-anchor">#</a> 六、页面加载事件、定时器</h2> <h3 id="_1-bom"><a href="#_1-bom" class="header-anchor">#</a> 1. BOM</h3> <p>浏览器对象模型，把浏览器看作一个对象模型来看待，BOM的顶级对象是window， BOM学习的是浏览器窗口交互的一些对象，BOM浏览器厂商在个字浏览器上定义的，兼容性较差。</p> <ol><li>window是js访问浏览器窗口的一个接口</li> <li>是一个全局对象，定义在全局作用域中、函数都会变成window对象的属性和方法。调用时省略window。  window下的一个特殊属性window.name</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 空 </span>
</code></pre></div><h3 id="_2-页面加载事件"><a href="#_2-页面加载事件" class="header-anchor">#</a> 2. 页面加载事件</h3> <p>window.onload 传统注册事件方式只写一次， 如有多个，以最后一个为准，  使用addEventListener没有限制。</p> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'点击我'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>


<span class="token comment">// 页面所有的内容加载完了再去加载  </span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'load'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'点击我'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// load  是等内容全部加载完毕，包含页面dom元素 图片 flash css等</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'load'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// DOMContentLoaded 是DOM 加载完毕，不包含页面dom元素 图片 flash css等就可以执行 加载速度比 load 更快一些</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'DOMContentLoaded'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">33</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_3-调整窗口大小"><a href="#_3-调整窗口大小" class="header-anchor">#</a> 3. 调整窗口大小</h3> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'load'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// resize 只要窗口大小发生变化就会触发这个事件</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'变化了'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// window.innerWidth  当前屏幕的宽度</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>innerWidth <span class="token operator">&lt;=</span> <span class="token number">800</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'block'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_4-定时器之-settimeout"><a href="#_4-定时器之-settimeout" class="header-anchor">#</a> 4. 定时器之 setTimeout</h3> <ol><li>setTimeout
语法规范：  window.setTimeout(调用函数, 延时时间);
window可省略，延时时间单位是毫秒，如果省略默认0</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'时间到了'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 调用函数可以直接写函数</span>
<span class="token keyword">function</span> <span class="token function">callback</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'爆炸了'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 页面中可能有很多定时器，我们经常给定时器加标识符（名字）</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span>callback<span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// setTimeout('callback()', 4000);   // 不提倡这个写法</span>
</code></pre></div><h3 id="_5-清楚定时器-cleartimeout"><a href="#_5-清楚定时器-cleartimeout" class="header-anchor">#</a> 5. 清楚定时器 clearTimeout</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'爆炸了'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 小括号里面的参数就是定时器的标识符</span>
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_6-定时器之-setinterval"><a href="#_6-定时器之-setinterval" class="header-anchor">#</a> 6. 定时器之 setInterval</h3> <p>定时器之setInterval 可以调用很多次</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'继续输出'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_7-清楚定时器-clearinterval"><a href="#_7-清楚定时器-clearinterval" class="header-anchor">#</a> 7. 清楚定时器 clearInterval</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> begin <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.begin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> stop <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.stop'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token comment">// 全局变量</span>
begin<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ni hao ma'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
stop<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>  
</code></pre></div><h2 id="七、this指向问题、location对象和方法"><a href="#七、this指向问题、location对象和方法" class="header-anchor">#</a> 七、this指向问题、location对象和方法</h2> <h3 id="_1-this-指向问题"><a href="#_1-this-指向问题" class="header-anchor">#</a> 1. this 指向问题</h3> <ol><li>全局作用域或者普通函数中this窒息那个全局对象window（定时器里面的this指向window）</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ol start="2"><li>方法调用中谁调用this指向谁</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">sayHi</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// this指向o这个对象</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
o<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// this指向btn按钮对象</span>
<span class="token punctuation">}</span>
btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// this指向btn按钮对象</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ol start="3"><li>构造函数中的this指向构造函数的实例</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
<span class="token keyword">var</span> fun <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-js-同步和异步"><a href="#_2-js-同步和异步" class="header-anchor">#</a> 2. js 同步和异步</h3> <p>同步：前一个任务结束后再执行后一个任务。比如等水开了（等10分钟），再去切菜炒菜。
异步：做一件事情时，因为这件事花费很长时间，做这件事的同时，还可以去做别的事情。比如烧水的同时，利用这10分钟去切菜炒菜。
它俩本质区别：这条流水线上各个流程的执行顺序不同。</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 顺序是  先打印1和2，再打印3.</span>
</code></pre></div><h3 id="_3-同步任务和异步任务的执行过程"><a href="#_3-同步任务和异步任务的执行过程" class="header-anchor">#</a> 3. 同步任务和异步任务的执行过程</h3> <p>js执行机制：<br>
同步任务都在主线程上执行，形成一个执行栈。<br>
异步任务 js的异步是通过回调函数实现的，异步任务有以下几种：</p> <ol><li>普通事件，如click、resize等。</li> <li>资源加载，如load、error等。</li> <li>定时器，包括setInterval、setTimeout等。<br>
异步任务相关回调函数添加到任务队列中(又称消息队列)。</li></ol> <p>事件循环 event loop ：同步任务执行完了之后会去看异步任务的消息队列，如果有要执行的任务的话就获取过来执行，执行完了之后又去看消息队列，这个循环的过程称为事件循环。
主线程执行栈（同步任务） -&gt; 异步进程处理 -&gt; 任务队列 -&gt; 主线程执行栈（同步任务）</p> <h3 id="_4-location-对象"><a href="#_4-location-对象" class="header-anchor">#</a> 4. location 对象</h3> <p>window 对象给我们提供了一个 location 属性用于获取或设置窗体的URL，还可用于解析URL。
URL：统一资源定位符，是互联网上标准资源的地址。
protocol://host[:port]/path/[?query]#fragment
http://www.itcast.cn/index.html?name=andy&amp;age=18#link</p> <p>protocol -&gt; 通信协议 常用的http，ftp，maito等
host   -&gt;  主机（域名） www.itheima.com
port   -&gt;  端口号 可选，省略时使用方案的默认端口 如http的默认端口是80
path   -&gt;  路径 由 零或多个'/'符号隔开的字符串，一般用来表示主机上的一个目录或文件地址
query  -&gt;  参数 以键值对的形式，通过&amp;符号分隔开来
fragment  -&gt;  片段 #后面内容 常见于链接 锚点</p> <p>location对象属性     返回值
location.href     获取或设置整个URL
location.host     返回主机（域名） www.itheima.com
location.port     返回端口号 如果未写返回 空字符串
location.pathname  返回路径
location.search    返回参数
location.hash     返回片段 #后面内容 常见于链接 锚点</p> <h3 id="_5-获取-url-参数"><a href="#_5-获取-url-参数" class="header-anchor">#</a> 5. 获取 URL 参数</h3> <p>index:</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>search<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 得到的是 ?uname=andy</span>
<span class="token comment">// 1. 先去掉问号？    substr('起始位置'，截取几个字符);</span>
<span class="token keyword">var</span> params <span class="token operator">=</span> location<span class="token punctuation">.</span>search<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//  uname=andy</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2. 利用= 把字符串分割为数组 split('=');</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> params<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// ['uname', 'andy']</span>
<span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 3. 把数据写入div中</span>
div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'欢迎您!'</span><span class="token punctuation">;</span>
</code></pre></div><p>login:
</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token operator">&lt;</span>form action<span class="token operator">=</span><span class="token string">&quot;index.html&quot;</span><span class="token operator">&gt;</span>
        用户名： <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;uname&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;登录&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_6-location常用方法"><a href="#_6-location常用方法" class="header-anchor">#</a> 6. location常用方法</h3> <p>location.assign('这里写想要跳转的网址');</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</code></pre></div><p>assign 记录浏览历史，所以可以实现后退功能</p> <div class="language-js extra-class"><pre class="language-js"><code>    location<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token string">'http://www.baidu.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>replace 不记录浏览历史，所以不可以实现后退功能</p> <div class="language-js extra-class"><pre class="language-js"><code>    location<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'http://www.baidu.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>相当于重新加载页面   如果参数true 强制刷新ctrl+f5</p> <div class="language-js extra-class"><pre class="language-js"><code>    location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="八、navigator、history对象-offset和style"><a href="#八、navigator、history对象-offset和style" class="header-anchor">#</a> 八、navigator、history对象，offset和style</h2> <h3 id="_1-navigator对象"><a href="#_1-navigator对象" class="header-anchor">#</a> 1. navigator对象</h3> <p>navigator对象包含有关浏览器的信息，它有很多属性，我们最常用的是userAgent，该属性可以返回有客户机发送服务器的user-agent头部的值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|webOS|Symbian|Windows Phone)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>   <span class="token comment">// 手机</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>   <span class="token comment">// 电脑</span>
<span class="token punctuation">}</span> 
</code></pre></div><h3 id="_2-history对象"><a href="#_2-history对象" class="header-anchor">#</a> 2. history对象</h3> <p>index:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list.html<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点击我去往列表页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>前进<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// history对象方法    作用</span>
<span class="token comment">// back()           后退功能</span>
<span class="token comment">// forward()        前进功能</span>
<span class="token comment">// go(参数)          前进后退功能 参数如果是1前进1个页面，如果是-1 后退1个页面</span>

<span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    history<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// history.go(1);</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>list:
<a href="list.html">点击我去往首页</a> <button>后退</button></p> <div class="language-js extra-class"><pre class="language-js"><code>        <span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// history.back();</span>
            history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_3-offsetleft和offsettop获取元素偏移"><a href="#_3-offsetleft和offsettop获取元素偏移" class="header-anchor">#</a> 3. offsetLeft和offsetTop获取元素偏移</h3> <p>offset 系列
offset翻译就是偏移量，使用offset系列相关属性可以动态的得到该元素的位置（偏移）、大小等。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> father <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.father'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> son <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.son'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol><li>可以得到元素的偏移 位置 返回的不带单位的数值</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>father<span class="token punctuation">.</span>offsetTop<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>father<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 它以带有定位的父级为准 如果没有父级或者父级没有定位 则以body为准</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>son<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>可以得到元素的大小 宽度和高度  是包含padding + border + width</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> w <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.w'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>w<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>w<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>返回带有定位的父元素 否则返回body</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>son<span class="token punctuation">.</span>offsetParent<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>son<span class="token punctuation">.</span>parentNode<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 返回最近的父级元素 不管它有没有定位</span>
</code></pre></div><h3 id="_4-offset和style的区别"><a href="#_4-offset和style的区别" class="header-anchor">#</a> 4. offset和style的区别</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.box'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>box<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// offsetWidth = '300px';</span>
box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'300px'</span><span class="token punctuation">;</span>
</code></pre></div><p>offset                                    style
可以得到任意样式表中的样式值                 只能得到行内样式表中的样式值
获得的数值是没有单位的                      style.width获得的事带有单位的字符串<br>
offsetWidth包含padding+border+width      style.width获得不包含padding和border的值<br>
offsetWidth等是只读属性，只能获取不能赋值     style.width是可读写属性，可以获取也可以赋值<br>
所以，想要获取元素大小位置，用offset更合适     所以，想要给元素赋值，用style改变</p> <h3 id="_5-获取鼠标在盒子内的坐标"><a href="#_5-获取鼠标在盒子内的坐标" class="header-anchor">#</a> 5. 获取鼠标在盒子内的坐标</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.box'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// console.log(e.pageX);</span>
    <span class="token comment">// console.log(e.pageY);</span>
    <span class="token comment">// console.log(box.offsetLeft);</span>
    <span class="token keyword">var</span> x <span class="token operator">=</span> e<span class="token punctuation">.</span>pageX <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>offsetLeft<span class="token punctuation">;</span>
    <span class="token keyword">var</span> y <span class="token operator">=</span> e<span class="token punctuation">.</span>pageY <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>offsetTop<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'x坐标是: '</span> <span class="token operator">+</span> x <span class="token operator">+</span> <span class="token string">' y坐标是: '</span> <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/js/03-DOM.html" class="prev">
        DOM
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.8bc50557.js" defer></script><script src="/assets/js/2.9b5c8eec.js" defer></script><script src="/assets/js/23.6272a229.js" defer></script>
  </body>
</html>
