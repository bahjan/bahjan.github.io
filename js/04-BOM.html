<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>BOM | å‰ç«¯</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon.png">
    <meta name="description" content="æ¬¢è¿æ¥åˆ°æ±Ÿæ±Ÿçš„åšå®¢! ğŸ‘‹">
    
    <link rel="preload" href="/assets/css/0.styles.e1700646.css" as="style"><link rel="preload" href="/assets/js/app.8bc50557.js" as="script"><link rel="preload" href="/assets/js/2.9b5c8eec.js" as="script"><link rel="preload" href="/assets/js/23.6272a229.js" as="script"><link rel="prefetch" href="/assets/js/10.1531fba0.js"><link rel="prefetch" href="/assets/js/11.63741d13.js"><link rel="prefetch" href="/assets/js/12.1927f289.js"><link rel="prefetch" href="/assets/js/13.861f9870.js"><link rel="prefetch" href="/assets/js/14.8803238b.js"><link rel="prefetch" href="/assets/js/15.d9dd1b59.js"><link rel="prefetch" href="/assets/js/16.e83e42c5.js"><link rel="prefetch" href="/assets/js/17.0f31bec1.js"><link rel="prefetch" href="/assets/js/18.3756dc93.js"><link rel="prefetch" href="/assets/js/19.604ef985.js"><link rel="prefetch" href="/assets/js/20.8f4a9075.js"><link rel="prefetch" href="/assets/js/21.97715305.js"><link rel="prefetch" href="/assets/js/22.3e8af041.js"><link rel="prefetch" href="/assets/js/24.d0538901.js"><link rel="prefetch" href="/assets/js/3.60b75be9.js"><link rel="prefetch" href="/assets/js/4.259bde72.js"><link rel="prefetch" href="/assets/js/5.22499ca9.js"><link rel="prefetch" href="/assets/js/6.8ce66f47.js"><link rel="prefetch" href="/assets/js/7.d433d9e1.js"><link rel="prefetch" href="/assets/js/8.5d63017a.js"><link rel="prefetch" href="/assets/js/9.2c702dc6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e1700646.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">å‰ç«¯</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="é¢è¯•é¢˜" class="dropdown-title"><span class="title">é¢è¯•é¢˜</span> <span class="arrow down"></span></button> <button type="button" aria-label="é¢è¯•é¢˜" class="mobile-dropdown-title"><span class="title">é¢è¯•é¢˜</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/interview/01-ç®—æ³•é¢˜/" class="nav-link">
  ç®—æ³•é¢˜
</a></li><li class="dropdown-item"><!----> <a href="/interview/02-HTMLé¢è¯•é¢˜.html" class="nav-link">
  HTML é¢è¯•é¢˜
</a></li><li class="dropdown-item"><!----> <a href="/interview/03-CSSé¢è¯•é¢˜.html" class="nav-link">
  CSS é¢è¯•é¢˜
</a></li><li class="dropdown-item"><!----> <a href="/interview/04-JSé¢è¯•é¢˜.html" class="nav-link">
  JS é¢è¯•é¢˜
</a></li><li class="dropdown-item"><!----> <a href="/interview/05-Vueé¢è¯•é¢˜.html" class="nav-link">
  Vue é¢è¯•é¢˜
</a></li><li class="dropdown-item"><!----> <a href="/interview/06-æµè§ˆå™¨é¢è¯•é¢˜.html" class="nav-link">
  æµè§ˆå™¨ é¢è¯•é¢˜
</a></li><li class="dropdown-item"><!----> <a href="/interview/07-ç½‘ç»œé¢è¯•é¢˜.html" class="nav-link">
  ç½‘ç»œé¢è¯•é¢˜
</a></li><li class="dropdown-item"><!----> <a href="/interview/08-HRé¢è¯•é¢˜.html" class="nav-link">
  HR é¢è¯•é¢˜
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="HTML+CSS" class="dropdown-title"><span class="title">HTML+CSS</span> <span class="arrow down"></span></button> <button type="button" aria-label="HTML+CSS" class="mobile-dropdown-title"><span class="title">HTML+CSS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/html+css/01-HTML.html" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/html+css/02-CSS.html" class="nav-link">
  CSS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/js/01-JSå…¥é—¨.html" class="nav-link">
  JS å…¥é—¨
</a></li><li class="dropdown-item"><!----> <a href="/js/02-JSè¿›é˜¶.html" class="nav-link">
  JS è¿›é˜¶
</a></li><li class="dropdown-item"><!----> <a href="/js/03-DOM.html" class="nav-link">
  DOM
</a></li><li class="dropdown-item"><!----> <a href="/js/04-BOM.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  BOM
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/bahjan" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="é¢è¯•é¢˜" class="dropdown-title"><span class="title">é¢è¯•é¢˜</span> <span class="arrow down"></span></button> <button type="button" aria-label="é¢è¯•é¢˜" class="mobile-dropdown-title"><span class="title">é¢è¯•é¢˜</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/interview/01-ç®—æ³•é¢˜/" class="nav-link">
  ç®—æ³•é¢˜
</a></li><li class="dropdown-item"><!----> <a href="/interview/02-HTMLé¢è¯•é¢˜.html" class="nav-link">
  HTML é¢è¯•é¢˜
</a></li><li class="dropdown-item"><!----> <a href="/interview/03-CSSé¢è¯•é¢˜.html" class="nav-link">
  CSS é¢è¯•é¢˜
</a></li><li class="dropdown-item"><!----> <a href="/interview/04-JSé¢è¯•é¢˜.html" class="nav-link">
  JS é¢è¯•é¢˜
</a></li><li class="dropdown-item"><!----> <a href="/interview/05-Vueé¢è¯•é¢˜.html" class="nav-link">
  Vue é¢è¯•é¢˜
</a></li><li class="dropdown-item"><!----> <a href="/interview/06-æµè§ˆå™¨é¢è¯•é¢˜.html" class="nav-link">
  æµè§ˆå™¨ é¢è¯•é¢˜
</a></li><li class="dropdown-item"><!----> <a href="/interview/07-ç½‘ç»œé¢è¯•é¢˜.html" class="nav-link">
  ç½‘ç»œé¢è¯•é¢˜
</a></li><li class="dropdown-item"><!----> <a href="/interview/08-HRé¢è¯•é¢˜.html" class="nav-link">
  HR é¢è¯•é¢˜
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="HTML+CSS" class="dropdown-title"><span class="title">HTML+CSS</span> <span class="arrow down"></span></button> <button type="button" aria-label="HTML+CSS" class="mobile-dropdown-title"><span class="title">HTML+CSS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/html+css/01-HTML.html" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/html+css/02-CSS.html" class="nav-link">
  CSS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/js/01-JSå…¥é—¨.html" class="nav-link">
  JS å…¥é—¨
</a></li><li class="dropdown-item"><!----> <a href="/js/02-JSè¿›é˜¶.html" class="nav-link">
  JS è¿›é˜¶
</a></li><li class="dropdown-item"><!----> <a href="/js/03-DOM.html" class="nav-link">
  DOM
</a></li><li class="dropdown-item"><!----> <a href="/js/04-BOM.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  BOM
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/bahjan" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/js/" aria-current="page" class="sidebar-link">ç›®å½•</a></li><li><a href="/js/01-JSå…¥é—¨.html" class="sidebar-link">JS å…¥é—¨</a></li><li><a href="/js/02-JSè¿›é˜¶.html" class="sidebar-link">JS è¿›é˜¶</a></li><li><a href="/js/03-DOM.html" class="sidebar-link">DOM</a></li><li><a href="/js/04-BOM.html" aria-current="page" class="active sidebar-link">BOM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/js/04-BOM.html#ä¸€ã€dom-æ ¸å¿ƒ" class="sidebar-link">ä¸€ã€DOM æ ¸å¿ƒ</a></li><li class="sidebar-sub-header"><a href="/js/04-BOM.html#äºŒã€æ³¨å†Œäº‹ä»¶ä¸¤ç§æ–¹å¼" class="sidebar-link">äºŒã€æ³¨å†Œäº‹ä»¶ä¸¤ç§æ–¹å¼</a></li><li class="sidebar-sub-header"><a href="/js/04-BOM.html#ä¸‰ã€åˆ é™¤äº‹ä»¶-è§£ç»‘äº‹ä»¶" class="sidebar-link">ä¸‰ã€åˆ é™¤äº‹ä»¶(è§£ç»‘äº‹ä»¶)</a></li><li class="sidebar-sub-header"><a href="/js/04-BOM.html#å››ã€äº‹ä»¶å¯¹è±¡ã€e-target-å’Œ-this-åŒºåˆ«" class="sidebar-link">å››ã€äº‹ä»¶å¯¹è±¡ã€e.target å’Œ this åŒºåˆ«</a></li><li class="sidebar-sub-header"><a href="/js/04-BOM.html#äº”ã€ç¦æ­¢é€‰ä¸­ã€é”®ç›˜äº‹ä»¶" class="sidebar-link">äº”ã€ç¦æ­¢é€‰ä¸­ã€é”®ç›˜äº‹ä»¶</a></li><li class="sidebar-sub-header"><a href="/js/04-BOM.html#å…­ã€é¡µé¢åŠ è½½äº‹ä»¶ã€å®šæ—¶å™¨" class="sidebar-link">å…­ã€é¡µé¢åŠ è½½äº‹ä»¶ã€å®šæ—¶å™¨</a></li><li class="sidebar-sub-header"><a href="/js/04-BOM.html#ä¸ƒã€thisæŒ‡å‘é—®é¢˜ã€locationå¯¹è±¡å’Œæ–¹æ³•" class="sidebar-link">ä¸ƒã€thisæŒ‡å‘é—®é¢˜ã€locationå¯¹è±¡å’Œæ–¹æ³•</a></li><li class="sidebar-sub-header"><a href="/js/04-BOM.html#å…«ã€navigatorã€historyå¯¹è±¡-offsetå’Œstyle" class="sidebar-link">å…«ã€navigatorã€historyå¯¹è±¡ï¼Œoffsetå’Œstyle</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="bom"><a href="#bom" class="header-anchor">#</a> BOM</h1> <h2 id="ä¸€ã€dom-æ ¸å¿ƒ"><a href="#ä¸€ã€dom-æ ¸å¿ƒ" class="header-anchor">#</a> ä¸€ã€DOM æ ¸å¿ƒ</h2> <ol><li>åˆ›å»º</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span>write
innnerHTML
createElement
</code></pre></div><ol start="2"><li>å¢</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>appendChild
insertBefore
</code></pre></div><ol start="3"><li>åˆ </li></ol> <div class="language-js extra-class"><pre class="language-js"><code>removeChild
</code></pre></div><ol start="4"><li><p>æ”¹<br>
(1) ä¿®æ”¹å…ƒç´ å±æ€§ï¼šsrcã€hrefã€titleç­‰ã€‚<br>
(2) ä¿®æ”¹æ™®é€šå…ƒç´ ï¼šinnnerHTMLã€innerTextã€‚<br>
(3) ä¿®æ”¹è¡¨å•å…ƒç´ ï¼švalueã€typeã€disabledç­‰ã€‚<br>
(4) ä¿®æ”¹å…ƒç´ æ ·å¼ï¼šstyleã€classNameã€‚</p></li> <li><p>æŸ¥ (è·å– DOM çš„)<br>
(1) DOM æä¾›çš„ API æ–¹æ³•ï¼šgetElementByIdã€getElementByTagName å¤è€ç”¨æ³• ä¸å¤ªæ¨èã€‚<br>
(2) H5æä¾›çš„æ–°æ–¹æ³•ï¼šquerySelectorã€querySelectorAll æå€¡ã€‚<br>
(3)åˆ©ç”¨èŠ‚ç‚¹æ“ä½œè·å–å…ƒç´ ï¼šçˆ¶(parentNode)ã€å­(children)ã€å…„(previousElementSiblingã€nextElemnentSibling)æå€¡ã€‚</p></li> <li><p>å±æ€§æ“ä½œ<br>
(1) setAttributeï¼šè®¾ç½® DOM çš„å±æ€§å€¼ã€‚<br>
(2) getAttributeï¼šå¾—åˆ° DOM çš„å±æ€§å€¼ã€‚<br>
(3) removeAttributeï¼šç§»é™¤å±æ€§ã€‚</p></li> <li><p>äº‹ä»¶æ“ä½œ (é¼ æ ‡äº‹ä»¶)</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code>onclick        <span class="token comment">// é¼ æ ‡ç‚¹å‡»å·¦é”®è§¦å‘</span>
onmouseover    <span class="token comment">// é¼ æ ‡ç»è¿‡è§¦å‘</span>
onmouseout     <span class="token comment">// é¼ æ ‡ç¦»å¼€è§¦å‘</span>
onfocus        <span class="token comment">// è·å¾—é¼ æ ‡ç„¦ç‚¹è§¦å‘</span>
onblur         <span class="token comment">// å¤±å»é¼ æ ‡ç„¦ç‚¹è§¦å‘</span>
onmousemove    <span class="token comment">// é¼ æ ‡ç§»åŠ¨è§¦å‘</span>
onmouseup      <span class="token comment">// é¼ æ ‡å¼¹èµ·è§¦å‘</span>
onmousedown    <span class="token comment">// é¼ æ ‡æŒ‰ä¸‹è§¦å‘</span>
</code></pre></div><h2 id="äºŒã€æ³¨å†Œäº‹ä»¶ä¸¤ç§æ–¹å¼"><a href="#äºŒã€æ³¨å†Œäº‹ä»¶ä¸¤ç§æ–¹å¼" class="header-anchor">#</a> äºŒã€æ³¨å†Œäº‹ä»¶ä¸¤ç§æ–¹å¼</h2> <p>var btns = document.querySelectorAll('button');</p> <ol><li>ä¼ ç»Ÿæ–¹å¼æ³¨å†Œäº‹ä»¶
ç‰¹ç‚¹ï¼šæ³¨å†Œäº‹ä»¶çš„å”¯ä¸€æ€§</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>btns<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
btns<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>äº‹ä»¶ç›‘å¬æ³¨å†Œäº‹ä»¶  addEventListener
(1) é‡Œé¢çš„äº‹ä»¶ç±»å‹æ˜¯å­—ç¬¦ä¸² åŠ å¼•å· ä¸å¸¦on
(2) åŒä¸€ä¸ªå…ƒç´  åŒä¸€ä¸ªäº‹ä»¶å¯ä»¥æ·»åŠ å¤šä¸ªä¾¦å¬å™¨ï¼ˆäº‹ä»¶å¤„ç†ç¨‹åºï¼‰</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>btns<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
btns<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">33</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//  eventTarget.addEventListener(type, listener[, useCapture])</span>
<span class="token comment">// type: äº‹ä»¶ç±»å‹å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚clickã€mouseoverï¼Œæ³¨æ„ä¸åŠ on</span>
<span class="token comment">// listener: äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œäº‹ä»¶å‘ç”Ÿæ—¶ï¼Œä¼šè°ƒç”¨è¯¥ç›‘å¬å‡½æ•°</span>
<span class="token comment">// useCapture: å¯é€‰å‡½æ•°ï¼Œæ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œé»˜è®¤æ˜¯falseã€‚</span>
</code></pre></div><ol start="3"><li>attachEvent ie9ä»¥å‰çš„ç‰ˆæœ¬æ”¯æŒ</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>btns<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">'onclick'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="ä¸‰ã€åˆ é™¤äº‹ä»¶-è§£ç»‘äº‹ä»¶"><a href="#ä¸‰ã€åˆ é™¤äº‹ä»¶-è§£ç»‘äº‹ä»¶" class="header-anchor">#</a> ä¸‰ã€åˆ é™¤äº‹ä»¶(è§£ç»‘äº‹ä»¶)</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> divs <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
divs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 1. ä¼ ç»Ÿæ–¹å¼åˆ é™¤äº‹ä»¶(è§£ç»‘äº‹ä»¶)</span>
    divs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>onclick <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 2. removeEventListener åˆ é™¤äº‹ä»¶</span>
divs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span>  <span class="token comment">// é‡Œé¢çš„fn ä¸éœ€è¦è°ƒç”¨åŠ å°æ‹¬å·</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    divs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 3. </span>
divs<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">'onclick'</span><span class="token punctuation">,</span> fn1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">33</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    divs<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">detachEvent</span><span class="token punctuation">(</span><span class="token string">'onclick'</span><span class="token punctuation">,</span> fn1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="å››ã€äº‹ä»¶å¯¹è±¡ã€e-target-å’Œ-this-åŒºåˆ«"><a href="#å››ã€äº‹ä»¶å¯¹è±¡ã€e-target-å’Œ-this-åŒºåˆ«" class="header-anchor">#</a> å››ã€äº‹ä»¶å¯¹è±¡ã€e.target å’Œ this åŒºåˆ«</h2> <h3 id="_1-dom-äº‹ä»¶æµ"><a href="#_1-dom-äº‹ä»¶æµ" class="header-anchor">#</a> 1. DOM äº‹ä»¶æµ</h3> <p>äº‹ä»¶æµæè¿°çš„æ˜¯ä»é¡µé¢ä¸­æ¥å—äº‹ä»¶çš„é¡ºåºã€‚<br>
äº‹ä»¶å‘ç”Ÿæ—¶ä¼šåœ¨å…ƒç´ èŠ‚ç‚¹ä¹‹é—´æŒ‰ç…§ç‰¹å®šçš„é¡ºåºä¼ æ’­ï¼Œè¿™ä¸ªä¼ æ’­è¿‡ç¨‹å³ DOM äº‹ä»¶æµã€‚<br>
DOM äº‹ä»¶æµåˆ†ä¸º3ä¸ªé˜¶æ®µï¼š<br>
â‘ æ•è·é˜¶æ®µ â‘¡å½“å‰ç›®æ ‡é˜¶æ®µ â‘¢å†’æ³¡é˜¶æ®µ</p> <ol><li>js ä»£ç ä¸­åªèƒ½æ‰§è¡Œæ•è·æˆ–å†’æ³¡å…¶ä¸­çš„ä¸€ä¸ªé˜¶æ®µã€‚</li> <li>onclick å’Œ attachEventï¼ˆieï¼‰ åªèƒ½å¾—åˆ°å†’æ³¡é˜¶æ®µã€‚</li> <li>æ•è·é˜¶æ®µ å¦‚æœaddEventListener ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ true é‚£ä¹ˆåˆ™å¤„äºæ•è·é˜¶æ®µ document -&gt; html -&gt; body -&gt; father -&gt; son</li> <li>å†’æ³¡é˜¶æ®µ å¦‚æœaddEventListener ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ false æˆ–è€… çœç•¥ é‚£ä¹ˆå¤„äºå†’æ³¡é˜¶æ®µ  son -&gt; father -&gt; body -&gt; html -&gt; document</li></ol> <h3 id="_2-äº‹ä»¶å¯¹è±¡"><a href="#_2-äº‹ä»¶å¯¹è±¡" class="header-anchor">#</a> 2. äº‹ä»¶å¯¹è±¡</h3> <ol><li>eventå°±æ˜¯ä¸€ä¸ªäº‹ä»¶å¯¹è±¡ å†™åˆ°ä¾¦å¬å‡½æ•°å°æ‹¬å·é‡Œ å½“å½¢å‚æ¥çœ‹ã€‚</li> <li>äº‹ä»¶å¯¹è±¡åªæœ‰æœ‰äº†äº‹ä»¶æ‰ä¼šå­˜åœ¨ å®ƒæ˜¯ç³»ç»Ÿè‡ªåŠ¨åˆ›å»ºçš„ï¼Œä¸éœ€è¦æˆ‘ä»¬ä¼ é€’å‚æ•°ã€‚</li> <li>äº‹ä»¶å¯¹è±¡ è·Ÿäº‹ä»¶ç›¸å…³ æ¯”å¦‚é¼ æ ‡ç‚¹å‡»çš„åæ ‡ï¼Œé”®ç›˜æŒ‰ä¸‹äº†å“ªä¸ªé”®ã€‚</li> <li>äº‹ä»¶å¯¹è±¡å¯è‡ªå·±å‘½å å¦‚ eventã€evtã€eã€‚</li> <li>äº‹ä»¶å¯¹è±¡ä¹Ÿæœ‰å…¼å®¹æ€§é—®é¢˜ ie678 é€šè¿‡ window.event å…¼å®¹æ€§çš„å†™æ³• e = e || window.event;</li></ol> <h3 id="_3-e-target-å’Œ-this-åŒºåˆ«"><a href="#_3-e-target-å’Œ-this-åŒºåˆ«" class="header-anchor">#</a> 3. e.target å’Œ this åŒºåˆ«</h3> <p>å¸¸è§äº‹ä»¶å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•</p> <ol><li>e.target è¿”å›çš„æ˜¯è§¦å‘äº‹ä»¶çš„å¯¹è±¡(å…ƒç´ ) ï¼Œ thisè¿”å›çš„æ˜¯ç»‘å®šäº‹ä»¶çš„å¯¹è±¡ï¼ˆå…ƒç´ ï¼‰
åŒºåˆ«ï¼š e.target ç‚¹å‡»äº†å“ªä¸ªå…ƒç´ ï¼Œå°±è¿”å›é‚£ä¸ªå…ƒç´ ï¼Œ  thiså“ªä¸ªå…ƒç´ ç»‘å®šäº†è¿™ä¸ªç‚¹å‡»äº‹ä»¶ å°±è¿”å›è°</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ul<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ç»™ul ç»‘å®šäº‹ä»¶ é‚£ä¹ˆthis å°±æŒ‡å‘ul </span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// e.target æŒ‡å‘çš„æ˜¯æˆ‘ä»¬ç‚¹å‡»çš„é‚£ä¸ªå¯¹è±¡ </span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_4-é˜»æ­¢é»˜è®¤è¡Œä¸º"><a href="#_4-é˜»æ­¢é»˜è®¤è¡Œä¸º" class="header-anchor">#</a> 4. é˜»æ­¢é»˜è®¤è¡Œä¸º</h3> <p>å¸¸è§äº‹ä»¶å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•</p> <ol><li>è¿”å›äº‹ä»¶ç±»å‹</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseover'</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseout'</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>é˜»æ­¢é»˜è®¤è¡Œä¸ºï¼ˆäº‹ä»¶ï¼‰è®©é“¾æ¥ä¸è·³è½¬ æˆ–è€… è®©æäº¤æŒ‰é’®ä¸æäº¤</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ol start="3"><li>ä¼ ç»Ÿçš„æ³¨å†Œæ–¹å¼</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>a<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ™®é€šæµè§ˆå™¨ e.preventDefault();  æ–¹æ³•</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ä½ç‰ˆæœ¬æµè§ˆå™¨ ie678  returnValue å±æ€§</span>
    e<span class="token punctuation">.</span>returnValue<span class="token punctuation">;</span>
    <span class="token comment">// å¯ä»¥åˆ©ç”¨ return false ä¹Ÿå¯ä»¥é˜»æ­¢é»˜è®¤è¡Œä¸º æ²¡æœ‰å…¼å®¹æ€§é—®é¢˜ ç‰¹ç‚¹ï¼š returnåé¢çš„ä»£ç ä¸æ‰§è¡Œ è€Œä¸”åªé™äºä¼ ç»Ÿçš„æ³¨å†Œæ–¹å¼</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_5-é˜»æ­¢äº‹ä»¶å†’æ³¡"><a href="#_5-é˜»æ­¢äº‹ä»¶å†’æ³¡" class="header-anchor">#</a> 5. é˜»æ­¢äº‹ä»¶å†’æ³¡</h3> <p>é˜»æ­¢å†’æ³¡ dom æ¨èçš„æ ‡å‡† stopPropagation()</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> son <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.son'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
son<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'son'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// stop åœæ­¢ Propagation ä¼ æ’­</span>
    <span class="token comment">// å¦‚æœè€ƒè™‘å…¼å®¹æ€§é—®é¢˜ </span>
    e<span class="token punctuation">.</span>cancelBubble <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>  <span class="token comment">// éæ ‡å‡† cancel å–æ¶ˆ bubble æ³¡æ³¡</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> father <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.father'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
father<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'father'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'document'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_6-äº‹ä»¶å§”æ‰˜"><a href="#_6-äº‹ä»¶å§”æ‰˜" class="header-anchor">#</a> 6. äº‹ä»¶å§”æ‰˜</h3> <p>äº‹ä»¶å§”æ‰˜çš„åŸç†ï¼šä¸æ˜¯æ¯ä¸ªå­èŠ‚ç‚¹å•ç‹¬è®¾ç½®äº‹ä»¶ç›‘å¬å™¨ï¼Œè€Œæ˜¯äº‹ä»¶ç›‘å¬å™¨è®¾ç½®åœ¨å…¶çˆ¶èŠ‚ç‚¹ä¸Šï¼Œç„¶ååˆ©ç”¨å†’æ³¡åŸç†å½±å“è®¾ç½®æ¯ä¸ªå­èŠ‚ç‚¹ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ul<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// alert('hello');</span>
    e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backguroundColor <span class="token operator">=</span> <span class="token string">'pink'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="äº”ã€ç¦æ­¢é€‰ä¸­ã€é”®ç›˜äº‹ä»¶"><a href="#äº”ã€ç¦æ­¢é€‰ä¸­ã€é”®ç›˜äº‹ä»¶" class="header-anchor">#</a> äº”ã€ç¦æ­¢é€‰ä¸­ã€é”®ç›˜äº‹ä»¶</h2> <h3 id="_1-ç¦æ­¢é€‰ä¸­æ–‡å­—å’Œç¦æ­¢å³é”®èœå•"><a href="#_1-ç¦æ­¢é€‰ä¸­æ–‡å­—å’Œç¦æ­¢å³é”®èœå•" class="header-anchor">#</a> 1. ç¦æ­¢é€‰ä¸­æ–‡å­—å’Œç¦æ­¢å³é”®èœå•</h3> <ol><li>contextmenu ç¦ç”¨å³é”®èœå•</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'contextmenu'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ol start="2"><li>ç¦æ­¢é€‰ä¸­æ–‡å­— selectstart</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'selectstart'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_2-è·å¾—é¼ æ ‡åœ¨é¡µé¢ä¸­çš„åæ ‡"><a href="#_2-è·å¾—é¼ æ ‡åœ¨é¡µé¢ä¸­çš„åæ ‡" class="header-anchor">#</a> 2. è·å¾—é¼ æ ‡åœ¨é¡µé¢ä¸­çš„åæ ‡</h3> <p>é¼ æ ‡äº‹ä»¶å¯¹è±¡ MouseEvent</p> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</code></pre></div><ol><li>clientX é¼ æ ‡åœ¨å¯è§†åŒºçš„xå’Œyåæ ‡</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>clientX<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>clientY<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'-------------------'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>page é¼ æ ‡åœ¨é¡µé¢æ–‡æ¡£çš„xå’Œyåæ ‡ (å¸¸ç”¨)</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>pageX<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>pageY<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'-------------------'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>screen é¼ æ ‡åœ¨ç”µè„‘å±å¹•çš„xå’Œyåæ ‡</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>screenX<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>screenY<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_3-å¸¸ç”¨çš„é”®ç›˜äº‹ä»¶"><a href="#_3-å¸¸ç”¨çš„é”®ç›˜äº‹ä»¶" class="header-anchor">#</a> 3. å¸¸ç”¨çš„é”®ç›˜äº‹ä»¶</h3> <p>å¸¸ç”¨çš„é”®ç›˜äº‹ä»¶  addEventListener ä¸éœ€è¦åŠ  on</p> <ol><li>keyup æŒ‰é”®å¼¹èµ·çš„æ—¶å€™è§¦å‘  æ‰§è¡Œé¡ºåºç¬¬ä¸‰</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keyup'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æˆ‘å¼¹èµ·äº†'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ol start="2"><li>keydown æŒ‰é”®æŒ‰ä¸‹çš„æ—¶å€™è§¦å‘ æ‰§è¡Œé¡ºåºç¬¬ä¸€</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keydown'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æˆ‘æŒ‰ä¸‹äº†1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ol start="3"><li>keypress æŒ‰é”®æŒ‰ä¸‹çš„æ—¶å€™è§¦å‘ ä¸è¯†åˆ«åŠŸèƒ½é”® ctrl shiftç®­å¤´ç­‰  æ‰§è¡Œé¡ºåºç¬¬äºŒ</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keypress'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æˆ‘æŒ‰ä¸‹äº†2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_4-keycodeåˆ¤æ–­ç”¨æˆ·æŒ‰ä¸‹äº†å“ªä¸ªé”®"><a href="#_4-keycodeåˆ¤æ–­ç”¨æˆ·æŒ‰ä¸‹äº†å“ªä¸ªé”®" class="header-anchor">#</a> 4. keyCodeåˆ¤æ–­ç”¨æˆ·æŒ‰ä¸‹äº†å“ªä¸ªé”®</h3> <p>é”®ç›˜äº‹ä»¶å¯¹è±¡ä¸­çš„keyCodeå±æ€§å¯ä»¥å¾—åˆ°ç›¸åº”é”®çš„ASCIIç å€¼</p> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keyup'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>keyCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 1. keyup å’Œ keydown äº‹ä»¶ä¸åŒºåˆ†å­—æ¯å¤§å°å†™ a å’Œ A å¾—åˆ°çš„éƒ½æ˜¯65</span>
    <span class="token comment">// 2. keypressäº‹ä»¶ åŒºåˆ†å­—æ¯å¤§å°å†™ a å’Œ A å¾—åˆ°çš„ æ˜¯97å’Œ65</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keypress'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>keyCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="å…­ã€é¡µé¢åŠ è½½äº‹ä»¶ã€å®šæ—¶å™¨"><a href="#å…­ã€é¡µé¢åŠ è½½äº‹ä»¶ã€å®šæ—¶å™¨" class="header-anchor">#</a> å…­ã€é¡µé¢åŠ è½½äº‹ä»¶ã€å®šæ—¶å™¨</h2> <h3 id="_1-bom"><a href="#_1-bom" class="header-anchor">#</a> 1. BOM</h3> <p>æµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼ŒæŠŠæµè§ˆå™¨çœ‹ä½œä¸€ä¸ªå¯¹è±¡æ¨¡å‹æ¥çœ‹å¾…ï¼ŒBOMçš„é¡¶çº§å¯¹è±¡æ˜¯windowï¼Œ BOMå­¦ä¹ çš„æ˜¯æµè§ˆå™¨çª—å£äº¤äº’çš„ä¸€äº›å¯¹è±¡ï¼ŒBOMæµè§ˆå™¨å‚å•†åœ¨ä¸ªå­—æµè§ˆå™¨ä¸Šå®šä¹‰çš„ï¼Œå…¼å®¹æ€§è¾ƒå·®ã€‚</p> <ol><li>windowæ˜¯jsè®¿é—®æµè§ˆå™¨çª—å£çš„ä¸€ä¸ªæ¥å£</li> <li>æ˜¯ä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼Œå®šä¹‰åœ¨å…¨å±€ä½œç”¨åŸŸä¸­ã€å‡½æ•°éƒ½ä¼šå˜æˆwindowå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚è°ƒç”¨æ—¶çœç•¥windowã€‚  windowä¸‹çš„ä¸€ä¸ªç‰¹æ®Šå±æ€§window.name</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// ç©º </span>
</code></pre></div><h3 id="_2-é¡µé¢åŠ è½½äº‹ä»¶"><a href="#_2-é¡µé¢åŠ è½½äº‹ä»¶" class="header-anchor">#</a> 2. é¡µé¢åŠ è½½äº‹ä»¶</h3> <p>window.onload ä¼ ç»Ÿæ³¨å†Œäº‹ä»¶æ–¹å¼åªå†™ä¸€æ¬¡ï¼Œ å¦‚æœ‰å¤šä¸ªï¼Œä»¥æœ€åä¸€ä¸ªä¸ºå‡†ï¼Œ  ä½¿ç”¨addEventListeneræ²¡æœ‰é™åˆ¶ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'ç‚¹å‡»æˆ‘'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>


<span class="token comment">// é¡µé¢æ‰€æœ‰çš„å†…å®¹åŠ è½½å®Œäº†å†å»åŠ è½½  </span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'load'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'ç‚¹å‡»æˆ‘'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// load  æ˜¯ç­‰å†…å®¹å…¨éƒ¨åŠ è½½å®Œæ¯•ï¼ŒåŒ…å«é¡µé¢domå…ƒç´  å›¾ç‰‡ flash cssç­‰</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'load'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// DOMContentLoaded æ˜¯DOM åŠ è½½å®Œæ¯•ï¼Œä¸åŒ…å«é¡µé¢domå…ƒç´  å›¾ç‰‡ flash cssç­‰å°±å¯ä»¥æ‰§è¡Œ åŠ è½½é€Ÿåº¦æ¯” load æ›´å¿«ä¸€äº›</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'DOMContentLoaded'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">33</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_3-è°ƒæ•´çª—å£å¤§å°"><a href="#_3-è°ƒæ•´çª—å£å¤§å°" class="header-anchor">#</a> 3. è°ƒæ•´çª—å£å¤§å°</h3> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'load'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// resize åªè¦çª—å£å¤§å°å‘ç”Ÿå˜åŒ–å°±ä¼šè§¦å‘è¿™ä¸ªäº‹ä»¶</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'å˜åŒ–äº†'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// window.innerWidth  å½“å‰å±å¹•çš„å®½åº¦</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>innerWidth <span class="token operator">&lt;=</span> <span class="token number">800</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'block'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_4-å®šæ—¶å™¨ä¹‹-settimeout"><a href="#_4-å®šæ—¶å™¨ä¹‹-settimeout" class="header-anchor">#</a> 4. å®šæ—¶å™¨ä¹‹ setTimeout</h3> <ol><li>setTimeout
è¯­æ³•è§„èŒƒï¼š  window.setTimeout(è°ƒç”¨å‡½æ•°, å»¶æ—¶æ—¶é—´);
windowå¯çœç•¥ï¼Œå»¶æ—¶æ—¶é—´å•ä½æ˜¯æ¯«ç§’ï¼Œå¦‚æœçœç•¥é»˜è®¤0</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ—¶é—´åˆ°äº†'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// è°ƒç”¨å‡½æ•°å¯ä»¥ç›´æ¥å†™å‡½æ•°</span>
<span class="token keyword">function</span> <span class="token function">callback</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'çˆ†ç‚¸äº†'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// é¡µé¢ä¸­å¯èƒ½æœ‰å¾ˆå¤šå®šæ—¶å™¨ï¼Œæˆ‘ä»¬ç»å¸¸ç»™å®šæ—¶å™¨åŠ æ ‡è¯†ç¬¦ï¼ˆåå­—ï¼‰</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span>callback<span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// setTimeout('callback()', 4000);   // ä¸æå€¡è¿™ä¸ªå†™æ³•</span>
</code></pre></div><h3 id="_5-æ¸…æ¥šå®šæ—¶å™¨-cleartimeout"><a href="#_5-æ¸…æ¥šå®šæ—¶å™¨-cleartimeout" class="header-anchor">#</a> 5. æ¸…æ¥šå®šæ—¶å™¨ clearTimeout</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'çˆ†ç‚¸äº†'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å°æ‹¬å·é‡Œé¢çš„å‚æ•°å°±æ˜¯å®šæ—¶å™¨çš„æ ‡è¯†ç¬¦</span>
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_6-å®šæ—¶å™¨ä¹‹-setinterval"><a href="#_6-å®šæ—¶å™¨ä¹‹-setinterval" class="header-anchor">#</a> 6. å®šæ—¶å™¨ä¹‹ setInterval</h3> <p>å®šæ—¶å™¨ä¹‹setInterval å¯ä»¥è°ƒç”¨å¾ˆå¤šæ¬¡</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ç»§ç»­è¾“å‡º'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_7-æ¸…æ¥šå®šæ—¶å™¨-clearinterval"><a href="#_7-æ¸…æ¥šå®šæ—¶å™¨-clearinterval" class="header-anchor">#</a> 7. æ¸…æ¥šå®šæ—¶å™¨ clearInterval</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> begin <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.begin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> stop <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.stop'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token comment">// å…¨å±€å˜é‡</span>
begin<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ni hao ma'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
stop<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>  
</code></pre></div><h2 id="ä¸ƒã€thisæŒ‡å‘é—®é¢˜ã€locationå¯¹è±¡å’Œæ–¹æ³•"><a href="#ä¸ƒã€thisæŒ‡å‘é—®é¢˜ã€locationå¯¹è±¡å’Œæ–¹æ³•" class="header-anchor">#</a> ä¸ƒã€thisæŒ‡å‘é—®é¢˜ã€locationå¯¹è±¡å’Œæ–¹æ³•</h2> <h3 id="_1-this-æŒ‡å‘é—®é¢˜"><a href="#_1-this-æŒ‡å‘é—®é¢˜" class="header-anchor">#</a> 1. this æŒ‡å‘é—®é¢˜</h3> <ol><li>å…¨å±€ä½œç”¨åŸŸæˆ–è€…æ™®é€šå‡½æ•°ä¸­thisçª’æ¯é‚£ä¸ªå…¨å±€å¯¹è±¡windowï¼ˆå®šæ—¶å™¨é‡Œé¢çš„thisæŒ‡å‘windowï¼‰</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ol start="2"><li>æ–¹æ³•è°ƒç”¨ä¸­è°è°ƒç”¨thisæŒ‡å‘è°</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">sayHi</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// thisæŒ‡å‘oè¿™ä¸ªå¯¹è±¡</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
o<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// thisæŒ‡å‘btnæŒ‰é’®å¯¹è±¡</span>
<span class="token punctuation">}</span>
btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// thisæŒ‡å‘btnæŒ‰é’®å¯¹è±¡</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ol start="3"><li>æ„é€ å‡½æ•°ä¸­çš„thisæŒ‡å‘æ„é€ å‡½æ•°çš„å®ä¾‹</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
<span class="token keyword">var</span> fun <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-js-åŒæ­¥å’Œå¼‚æ­¥"><a href="#_2-js-åŒæ­¥å’Œå¼‚æ­¥" class="header-anchor">#</a> 2. js åŒæ­¥å’Œå¼‚æ­¥</h3> <p>åŒæ­¥ï¼šå‰ä¸€ä¸ªä»»åŠ¡ç»“æŸåå†æ‰§è¡Œåä¸€ä¸ªä»»åŠ¡ã€‚æ¯”å¦‚ç­‰æ°´å¼€äº†ï¼ˆç­‰10åˆ†é’Ÿï¼‰ï¼Œå†å»åˆ‡èœç‚’èœã€‚
å¼‚æ­¥ï¼šåšä¸€ä»¶äº‹æƒ…æ—¶ï¼Œå› ä¸ºè¿™ä»¶äº‹èŠ±è´¹å¾ˆé•¿æ—¶é—´ï¼Œåšè¿™ä»¶äº‹çš„åŒæ—¶ï¼Œè¿˜å¯ä»¥å»åšåˆ«çš„äº‹æƒ…ã€‚æ¯”å¦‚çƒ§æ°´çš„åŒæ—¶ï¼Œåˆ©ç”¨è¿™10åˆ†é’Ÿå»åˆ‡èœç‚’èœã€‚
å®ƒä¿©æœ¬è´¨åŒºåˆ«ï¼šè¿™æ¡æµæ°´çº¿ä¸Šå„ä¸ªæµç¨‹çš„æ‰§è¡Œé¡ºåºä¸åŒã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// é¡ºåºæ˜¯  å…ˆæ‰“å°1å’Œ2ï¼Œå†æ‰“å°3.</span>
</code></pre></div><h3 id="_3-åŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡çš„æ‰§è¡Œè¿‡ç¨‹"><a href="#_3-åŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡çš„æ‰§è¡Œè¿‡ç¨‹" class="header-anchor">#</a> 3. åŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡çš„æ‰§è¡Œè¿‡ç¨‹</h3> <p>jsæ‰§è¡Œæœºåˆ¶ï¼š<br>
åŒæ­¥ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ªæ‰§è¡Œæ ˆã€‚<br>
å¼‚æ­¥ä»»åŠ¡ jsçš„å¼‚æ­¥æ˜¯é€šè¿‡å›è°ƒå‡½æ•°å®ç°çš„ï¼Œå¼‚æ­¥ä»»åŠ¡æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p> <ol><li>æ™®é€šäº‹ä»¶ï¼Œå¦‚clickã€resizeç­‰ã€‚</li> <li>èµ„æºåŠ è½½ï¼Œå¦‚loadã€errorç­‰ã€‚</li> <li>å®šæ—¶å™¨ï¼ŒåŒ…æ‹¬setIntervalã€setTimeoutç­‰ã€‚<br>
å¼‚æ­¥ä»»åŠ¡ç›¸å…³å›è°ƒå‡½æ•°æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­(åˆç§°æ¶ˆæ¯é˜Ÿåˆ—)ã€‚</li></ol> <p>äº‹ä»¶å¾ªç¯ event loop ï¼šåŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œäº†ä¹‹åä¼šå»çœ‹å¼‚æ­¥ä»»åŠ¡çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¦‚æœæœ‰è¦æ‰§è¡Œçš„ä»»åŠ¡çš„è¯å°±è·å–è¿‡æ¥æ‰§è¡Œï¼Œæ‰§è¡Œå®Œäº†ä¹‹ååˆå»çœ‹æ¶ˆæ¯é˜Ÿåˆ—ï¼Œè¿™ä¸ªå¾ªç¯çš„è¿‡ç¨‹ç§°ä¸ºäº‹ä»¶å¾ªç¯ã€‚
ä¸»çº¿ç¨‹æ‰§è¡Œæ ˆï¼ˆåŒæ­¥ä»»åŠ¡ï¼‰ -&gt; å¼‚æ­¥è¿›ç¨‹å¤„ç† -&gt; ä»»åŠ¡é˜Ÿåˆ— -&gt; ä¸»çº¿ç¨‹æ‰§è¡Œæ ˆï¼ˆåŒæ­¥ä»»åŠ¡ï¼‰</p> <h3 id="_4-location-å¯¹è±¡"><a href="#_4-location-å¯¹è±¡" class="header-anchor">#</a> 4. location å¯¹è±¡</h3> <p>window å¯¹è±¡ç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ª location å±æ€§ç”¨äºè·å–æˆ–è®¾ç½®çª—ä½“çš„URLï¼Œè¿˜å¯ç”¨äºè§£æURLã€‚
URLï¼šç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼Œæ˜¯äº’è”ç½‘ä¸Šæ ‡å‡†èµ„æºçš„åœ°å€ã€‚
protocol://host[:port]/path/[?query]#fragment
http://www.itcast.cn/index.html?name=andy&amp;age=18#link</p> <p>protocol -&gt; é€šä¿¡åè®® å¸¸ç”¨çš„httpï¼Œftpï¼Œmaitoç­‰
host   -&gt;  ä¸»æœºï¼ˆåŸŸåï¼‰ www.itheima.com
port   -&gt;  ç«¯å£å· å¯é€‰ï¼Œçœç•¥æ—¶ä½¿ç”¨æ–¹æ¡ˆçš„é»˜è®¤ç«¯å£ å¦‚httpçš„é»˜è®¤ç«¯å£æ˜¯80
path   -&gt;  è·¯å¾„ ç”± é›¶æˆ–å¤šä¸ª'/'ç¬¦å·éš”å¼€çš„å­—ç¬¦ä¸²ï¼Œä¸€èˆ¬ç”¨æ¥è¡¨ç¤ºä¸»æœºä¸Šçš„ä¸€ä¸ªç›®å½•æˆ–æ–‡ä»¶åœ°å€
query  -&gt;  å‚æ•° ä»¥é”®å€¼å¯¹çš„å½¢å¼ï¼Œé€šè¿‡&amp;ç¬¦å·åˆ†éš”å¼€æ¥
fragment  -&gt;  ç‰‡æ®µ #åé¢å†…å®¹ å¸¸è§äºé“¾æ¥ é”šç‚¹</p> <p>locationå¯¹è±¡å±æ€§     è¿”å›å€¼
location.href     è·å–æˆ–è®¾ç½®æ•´ä¸ªURL
location.host     è¿”å›ä¸»æœºï¼ˆåŸŸåï¼‰ www.itheima.com
location.port     è¿”å›ç«¯å£å· å¦‚æœæœªå†™è¿”å› ç©ºå­—ç¬¦ä¸²
location.pathname  è¿”å›è·¯å¾„
location.search    è¿”å›å‚æ•°
location.hash     è¿”å›ç‰‡æ®µ #åé¢å†…å®¹ å¸¸è§äºé“¾æ¥ é”šç‚¹</p> <h3 id="_5-è·å–-url-å‚æ•°"><a href="#_5-è·å–-url-å‚æ•°" class="header-anchor">#</a> 5. è·å– URL å‚æ•°</h3> <p>index:</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>search<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// å¾—åˆ°çš„æ˜¯ ?uname=andy</span>
<span class="token comment">// 1. å…ˆå»æ‰é—®å·ï¼Ÿ    substr('èµ·å§‹ä½ç½®'ï¼Œæˆªå–å‡ ä¸ªå­—ç¬¦);</span>
<span class="token keyword">var</span> params <span class="token operator">=</span> location<span class="token punctuation">.</span>search<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//  uname=andy</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2. åˆ©ç”¨= æŠŠå­—ç¬¦ä¸²åˆ†å‰²ä¸ºæ•°ç»„ split('=');</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> params<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// ['uname', 'andy']</span>
<span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 3. æŠŠæ•°æ®å†™å…¥divä¸­</span>
div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'æ¬¢è¿æ‚¨!'</span><span class="token punctuation">;</span>
</code></pre></div><p>login:
</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token operator">&lt;</span>form action<span class="token operator">=</span><span class="token string">&quot;index.html&quot;</span><span class="token operator">&gt;</span>
        ç”¨æˆ·åï¼š <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;uname&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;ç™»å½•&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_6-locationå¸¸ç”¨æ–¹æ³•"><a href="#_6-locationå¸¸ç”¨æ–¹æ³•" class="header-anchor">#</a> 6. locationå¸¸ç”¨æ–¹æ³•</h3> <p>location.assign('è¿™é‡Œå†™æƒ³è¦è·³è½¬çš„ç½‘å€');</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</code></pre></div><p>assign è®°å½•æµè§ˆå†å²ï¼Œæ‰€ä»¥å¯ä»¥å®ç°åé€€åŠŸèƒ½</p> <div class="language-js extra-class"><pre class="language-js"><code>    location<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token string">'http://www.baidu.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>replace ä¸è®°å½•æµè§ˆå†å²ï¼Œæ‰€ä»¥ä¸å¯ä»¥å®ç°åé€€åŠŸèƒ½</p> <div class="language-js extra-class"><pre class="language-js"><code>    location<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'http://www.baidu.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ç›¸å½“äºé‡æ–°åŠ è½½é¡µé¢   å¦‚æœå‚æ•°true å¼ºåˆ¶åˆ·æ–°ctrl+f5</p> <div class="language-js extra-class"><pre class="language-js"><code>    location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="å…«ã€navigatorã€historyå¯¹è±¡-offsetå’Œstyle"><a href="#å…«ã€navigatorã€historyå¯¹è±¡-offsetå’Œstyle" class="header-anchor">#</a> å…«ã€navigatorã€historyå¯¹è±¡ï¼Œoffsetå’Œstyle</h2> <h3 id="_1-navigatorå¯¹è±¡"><a href="#_1-navigatorå¯¹è±¡" class="header-anchor">#</a> 1. navigatorå¯¹è±¡</h3> <p>navigatorå¯¹è±¡åŒ…å«æœ‰å…³æµè§ˆå™¨çš„ä¿¡æ¯ï¼Œå®ƒæœ‰å¾ˆå¤šå±æ€§ï¼Œæˆ‘ä»¬æœ€å¸¸ç”¨çš„æ˜¯userAgentï¼Œè¯¥å±æ€§å¯ä»¥è¿”å›æœ‰å®¢æˆ·æœºå‘é€æœåŠ¡å™¨çš„user-agentå¤´éƒ¨çš„å€¼ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|webOS|Symbian|Windows Phone)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>   <span class="token comment">// æ‰‹æœº</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>   <span class="token comment">// ç”µè„‘</span>
<span class="token punctuation">}</span> 
</code></pre></div><h3 id="_2-historyå¯¹è±¡"><a href="#_2-historyå¯¹è±¡" class="header-anchor">#</a> 2. historyå¯¹è±¡</h3> <p>index:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list.html<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç‚¹å‡»æˆ‘å»å¾€åˆ—è¡¨é¡µ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>å‰è¿›<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// historyå¯¹è±¡æ–¹æ³•    ä½œç”¨</span>
<span class="token comment">// back()           åé€€åŠŸèƒ½</span>
<span class="token comment">// forward()        å‰è¿›åŠŸèƒ½</span>
<span class="token comment">// go(å‚æ•°)          å‰è¿›åé€€åŠŸèƒ½ å‚æ•°å¦‚æœæ˜¯1å‰è¿›1ä¸ªé¡µé¢ï¼Œå¦‚æœæ˜¯-1 åé€€1ä¸ªé¡µé¢</span>

<span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    history<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// history.go(1);</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>list:
<a href="list.html">ç‚¹å‡»æˆ‘å»å¾€é¦–é¡µ</a> <button>åé€€</button></p> <div class="language-js extra-class"><pre class="language-js"><code>        <span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// history.back();</span>
            history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_3-offsetleftå’Œoffsettopè·å–å…ƒç´ åç§»"><a href="#_3-offsetleftå’Œoffsettopè·å–å…ƒç´ åç§»" class="header-anchor">#</a> 3. offsetLeftå’ŒoffsetTopè·å–å…ƒç´ åç§»</h3> <p>offset ç³»åˆ—
offsetç¿»è¯‘å°±æ˜¯åç§»é‡ï¼Œä½¿ç”¨offsetç³»åˆ—ç›¸å…³å±æ€§å¯ä»¥åŠ¨æ€çš„å¾—åˆ°è¯¥å…ƒç´ çš„ä½ç½®ï¼ˆåç§»ï¼‰ã€å¤§å°ç­‰ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> father <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.father'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> son <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.son'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol><li>å¯ä»¥å¾—åˆ°å…ƒç´ çš„åç§» ä½ç½® è¿”å›çš„ä¸å¸¦å•ä½çš„æ•°å€¼</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>father<span class="token punctuation">.</span>offsetTop<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>father<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å®ƒä»¥å¸¦æœ‰å®šä½çš„çˆ¶çº§ä¸ºå‡† å¦‚æœæ²¡æœ‰çˆ¶çº§æˆ–è€…çˆ¶çº§æ²¡æœ‰å®šä½ åˆ™ä»¥bodyä¸ºå‡†</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>son<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>å¯ä»¥å¾—åˆ°å…ƒç´ çš„å¤§å° å®½åº¦å’Œé«˜åº¦  æ˜¯åŒ…å«padding + border + width</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> w <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.w'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>w<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>w<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>è¿”å›å¸¦æœ‰å®šä½çš„çˆ¶å…ƒç´  å¦åˆ™è¿”å›body</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>son<span class="token punctuation">.</span>offsetParent<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>son<span class="token punctuation">.</span>parentNode<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è¿”å›æœ€è¿‘çš„çˆ¶çº§å…ƒç´  ä¸ç®¡å®ƒæœ‰æ²¡æœ‰å®šä½</span>
</code></pre></div><h3 id="_4-offsetå’Œstyleçš„åŒºåˆ«"><a href="#_4-offsetå’Œstyleçš„åŒºåˆ«" class="header-anchor">#</a> 4. offsetå’Œstyleçš„åŒºåˆ«</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.box'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>box<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// offsetWidth = '300px';</span>
box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'300px'</span><span class="token punctuation">;</span>
</code></pre></div><p>offset                                    style
å¯ä»¥å¾—åˆ°ä»»æ„æ ·å¼è¡¨ä¸­çš„æ ·å¼å€¼                 åªèƒ½å¾—åˆ°è¡Œå†…æ ·å¼è¡¨ä¸­çš„æ ·å¼å€¼
è·å¾—çš„æ•°å€¼æ˜¯æ²¡æœ‰å•ä½çš„                      style.widthè·å¾—çš„äº‹å¸¦æœ‰å•ä½çš„å­—ç¬¦ä¸²<br>
offsetWidthåŒ…å«padding+border+width      style.widthè·å¾—ä¸åŒ…å«paddingå’Œborderçš„å€¼<br>
offsetWidthç­‰æ˜¯åªè¯»å±æ€§ï¼Œåªèƒ½è·å–ä¸èƒ½èµ‹å€¼     style.widthæ˜¯å¯è¯»å†™å±æ€§ï¼Œå¯ä»¥è·å–ä¹Ÿå¯ä»¥èµ‹å€¼<br>
æ‰€ä»¥ï¼Œæƒ³è¦è·å–å…ƒç´ å¤§å°ä½ç½®ï¼Œç”¨offsetæ›´åˆé€‚     æ‰€ä»¥ï¼Œæƒ³è¦ç»™å…ƒç´ èµ‹å€¼ï¼Œç”¨styleæ”¹å˜</p> <h3 id="_5-è·å–é¼ æ ‡åœ¨ç›’å­å†…çš„åæ ‡"><a href="#_5-è·å–é¼ æ ‡åœ¨ç›’å­å†…çš„åæ ‡" class="header-anchor">#</a> 5. è·å–é¼ æ ‡åœ¨ç›’å­å†…çš„åæ ‡</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.box'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// console.log(e.pageX);</span>
    <span class="token comment">// console.log(e.pageY);</span>
    <span class="token comment">// console.log(box.offsetLeft);</span>
    <span class="token keyword">var</span> x <span class="token operator">=</span> e<span class="token punctuation">.</span>pageX <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>offsetLeft<span class="token punctuation">;</span>
    <span class="token keyword">var</span> y <span class="token operator">=</span> e<span class="token punctuation">.</span>pageY <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>offsetTop<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'xåæ ‡æ˜¯: '</span> <span class="token operator">+</span> x <span class="token operator">+</span> <span class="token string">' yåæ ‡æ˜¯: '</span> <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/js/03-DOM.html" class="prev">
        DOM
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.8bc50557.js" defer></script><script src="/assets/js/2.9b5c8eec.js" defer></script><script src="/assets/js/23.6272a229.js" defer></script>
  </body>
</html>
